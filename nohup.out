 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:1581 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 340개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:24:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 340개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:24:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 340개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:24:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:24:00
현재 시간: 2025-11-04 07:30:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:24:00 ~ 2025-11-04 07:30:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:24:00
  현재 날짜: 2025-11-04 07:30:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:30:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:30:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:27:00 ~ 2025-11-04 07:30:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:27:00 ~ 2025-11-04 07:30:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:27:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:30:00
  [현재 캔들 시간] 2025-11-04 07:27:00
기존 파일 발견: 11개 데이터
새로운 데이터: 1개
병합 후: 11개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 11개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:27:00
수집 완료: 342개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
백테스트 대상: 342개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:27:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:30:00
  [현재 캔들 시간] 2025-11-04 07:27:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:42:00 ~ 2025-11-04 07:27:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:42:00 ~ 2025-11-04 07:27:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 04:42:00 ~ 2025-11-04 07:27:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 47/15캔들, 수익률: +0.09%, 현재가: 160,365,000원
[보유 중] 경과: 48/15캔들, 수익률: +0.12%, 현재가: 160,420,000원
[보유 중] 경과: 49/15캔들, 수익률: +0.01%, 현재가: 160,236,000원
[보유 중] 경과: 50/15캔들, 수익률: +0.04%, 현재가: 160,291,000원
[보유 중] 경과: 51/15캔들, 수익률: +0.13%, 현재가: 160,427,000원
[보유 중] 경과: 52/15캔들, 수익률: +0.12%, 현재가: 160,426,000원
[보유 중] 경과: 53/15캔들, 수익률: +0.10%, 현재가: 160,387,000원
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:27:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,550,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음INFO:     116.37.80.183:6043 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 339개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:21:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 339개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:21:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 339개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:21:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:21:00
현재 시간: 2025-11-04 07:27:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:21:00 ~ 2025-11-04 07:27:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:21:00
  현재 날짜: 2025-11-04 07:27:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:27:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 06:54:00 ~ 2025-11-04 07:27:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:24:00 ~ 2025-11-04 07:27:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:24:00 ~ 2025-11-04 07:27:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:27:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:24:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:27:00
  [현재 캔들 시간] 2025-11-04 07:24:00
기존 파일 발견: 9개 데이터
새로운 데이터: 1개
병합 후: 10개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 10개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:24:00
수집 완료: 341개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00
백테스트 대상: 341개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:27:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:24:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:27:00
  [현재 캔들 시간] 2025-11-04 07:24:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:39:00 ~ 2025-11-04 07:24:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:39:00 ~ 2025-11-04 07:24:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 340개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:24:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 340개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:24:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 340개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:24:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:24:00
현재 시간: 2025-11-04 07:30:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:24:00 ~ 2025-11-04 07:30:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:24:00
  현재 날짜: 2025-11-04 07:30:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:30:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:30:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:27:00 ~ 2025-11-04 07:30:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:27:00 ~ 2025-11-04 07:30:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:27:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:30:00
  [현재 캔들 시간] 2025-11-04 07:27:00
기존 파일 발견: 10개 데이터
새로운 데이터: 1개
병합 후: 11개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 11개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:27:00
수집 완료: 342개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
백테스트 대상: 342개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:27:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:30:00
  [현재 캔들 시간] 2025-11-04 07:27:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:42:00 ~ 2025-11-04 07:27:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:42:00 ~ 2025-11-04 07:27:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:14799 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음INFO:     116.37.80.183:8482 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 341개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 341개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 341개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:27:00
현재 시간: 2025-11-04 07:33:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:27:00 ~ 2025-11-04 07:33:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:27:00
  현재 날짜: 2025-11-04 07:33:11
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:33:11
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:00:00 ~ 2025-11-04 07:33:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:30:00 ~ 2025-11-04 07:33:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:30:00 ~ 2025-11-04 07:33:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:33:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:30:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:33:00
  [현재 캔들 시간] 2025-11-04 07:30:00
기존 파일 발견: 12개 데이터
새로운 데이터: 1개
병합 후: 12개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 12개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:30:00
수집 완료: 343개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00
백테스트 대상: 343개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:33:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:30:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:33:00
  [현재 캔들 시간] 2025-11-04 07:30:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:45:00 ~ 2025-11-04 07:30:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:45:00 ~ 2025-11-04 07:30:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 04:45:00 ~ 2025-11-04 07:30:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 48/15캔들, 수익률: +0.12%, 현재가: 160,420,000원
[보유 중] 경과: 49/15캔들, 수익률: +0.01%, 현재가: 160,236,000원
[보유 중] 경과: 50/15캔들, 수익률: +0.04%, 현재가: 160,291,000원
[보유 중] 경과: 51/15캔들, 수익률: +0.13%, 현재가: 160,427,000원
[보유 중] 경과: 52/15캔들, 수익률: +0.12%, 현재가: 160,426,000원
[보유 중] 경과: 53/15캔들, 수익률: +0.10%, 현재가: 160,387,000원
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:30:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,716,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:5523 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 341개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 341개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 341개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:27:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:27:00
현재 시간: 2025-11-04 07:33:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:27:00 ~ 2025-11-04 07:33:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:27:00
  현재 날짜: 2025-11-04 07:33:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:33:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:00:00 ~ 2025-11-04 07:33:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:30:00 ~ 2025-11-04 07:33:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:30:00 ~ 2025-11-04 07:33:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:33:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:30:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:33:00
  [현재 캔들 시간] 2025-11-04 07:30:00
기존 파일 발견: 11개 데이터
새로운 데이터: 1개
병합 후: 12개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 12개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:30:00
수집 완료: 343개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00
백테스트 대상: 343개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:33:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:30:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:33:00
  [현재 캔들 시간] 2025-11-04 07:30:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:45:00 ~ 2025-11-04 07:30:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:45:00 ~ 2025-11-04 07:30:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:11209 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:6647 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 342개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 342개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 342개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:30:00
현재 시간: 2025-11-04 07:36:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:30:00 ~ 2025-11-04 07:36:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:30:00
  현재 날짜: 2025-11-04 07:36:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:36:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:03:00 ~ 2025-11-04 07:36:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:33:00 ~ 2025-11-04 07:36:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:33:00 ~ 2025-11-04 07:36:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:36:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:33:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:36:00
  [현재 캔들 시간] 2025-11-04 07:33:00
기존 파일 발견: 12개 데이터
새로운 데이터: 1개
병합 후: 13개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 13개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:33:00
수집 완료: 344개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
백테스트 대상: 344개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:36:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:33:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:36:00
  [현재 캔들 시간] 2025-11-04 07:33:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:48:00 ~ 2025-11-04 07:33:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:48:00 ~ 2025-11-04 07:33:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:12327 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 342개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 342개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 342개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:30:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:30:00
현재 시간: 2025-11-04 07:36:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:30:00 ~ 2025-11-04 07:36:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:30:00
  현재 날짜: 2025-11-04 07:36:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:36:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:03:00 ~ 2025-11-04 07:36:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:33:00 ~ 2025-11-04 07:36:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:33:00 ~ 2025-11-04 07:36:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:36:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:33:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:36:00
  [현재 캔들 시간] 2025-11-04 07:33:00
기존 파일 발견: 13개 데이터
새로운 데이터: 1개
병합 후: 13개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 13개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:33:00
수집 완료: 344개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
백테스트 대상: 344개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:36:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:33:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:36:00
  [현재 캔들 시간] 2025-11-04 07:33:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:48:00 ~ 2025-11-04 07:33:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:48:00 ~ 2025-11-04 07:33:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 04:48:00 ~ 2025-11-04 07:33:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 49/15캔들, 수익률: +0.01%, 현재가: 160,236,000원
[보유 중] 경과: 50/15캔들, 수익률: +0.04%, 현재가: 160,291,000원
[보유 중] 경과: 51/15캔들, 수익률: +0.13%, 현재가: 160,427,000원
[보유 중] 경과: 52/15캔들, 수익률: +0.12%, 현재가: 160,426,000원
[보유 중] 경과: 53/15캔들, 수익률: +0.10%, 현재가: 160,387,000원
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:33:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,870,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:7004 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:5497 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 343개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 343개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 344개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:36:00
현재 시간: 2025-11-04 07:39:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:36:00 ~ 2025-11-04 07:39:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:36:00
  현재 날짜: 2025-11-04 07:39:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T07:39:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:09:00 ~ 2025-11-04 07:39:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 07:39:00 ~ 2025-11-04 07:39:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 07:39:00 ~ 2025-11-04 07:39:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 07:39:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:36:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:39:00
저장할 데이터가 없습니다.
수집 완료: 345개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00
백테스트 대상: 345개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:39:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:36:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:39:00
  [현재 캔들 시간] 2025-11-04 07:36:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:51:00 ~ 2025-11-04 07:36:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:51:00 ~ 2025-11-04 07:36:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 04:51:00 ~ 2025-11-04 07:36:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 50/15캔들, 수익률: +0.04%, 현재가: 160,291,000원
[보유 중] 경과: 51/15캔들, 수익률: +0.13%, 현재가: 160,427,000원
[보유 중] 경과: 52/15캔들, 수익률: +0.12%, 현재가: 160,426,000원
[보유 중] 경과: 53/15캔들, 수익률: +0.10%, 현재가: 160,387,000원
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:36:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,877,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음INFO:     116.37.80.183:8488 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음INFO:     116.37.80.183:6063 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음INFO:     116.37.80.183:10364 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 343개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 343개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 343개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:33:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:33:00
현재 시간: 2025-11-04 07:39:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:33:00 ~ 2025-11-04 07:39:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:33:00
  현재 날짜: 2025-11-04 07:39:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:39:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:06:00 ~ 2025-11-04 07:39:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:36:00 ~ 2025-11-04 07:39:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:36:00 ~ 2025-11-04 07:39:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:39:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:36:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:39:00
  [현재 캔들 시간] 2025-11-04 07:36:00
기존 파일 발견: 13개 데이터
새로운 데이터: 1개
병합 후: 14개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 14개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:36:00
수집 완료: 345개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00
백테스트 대상: 345개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:39:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:36:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:39:00
  [현재 캔들 시간] 2025-11-04 07:36:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:51:00 ~ 2025-11-04 07:36:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:51:00 ~ 2025-11-04 07:36:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 344개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 344개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 344개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:36:00
현재 시간: 2025-11-04 07:42:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:36:00 ~ 2025-11-04 07:42:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:36:00
  현재 날짜: 2025-11-04 07:42:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:42:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:09:00 ~ 2025-11-04 07:42:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:39:00 ~ 2025-11-04 07:42:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:39:00 ~ 2025-11-04 07:42:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:42:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:39:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:42:00
  [현재 캔들 시간] 2025-11-04 07:39:00
기존 파일 발견: 14개 데이터
새로운 데이터: 1개
병합 후: 15개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 15개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:39:00
수집 완료: 346개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00
백테스트 대상: 346개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:42:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:39:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:42:00
  [현재 캔들 시간] 2025-11-04 07:39:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:54:00 ~ 2025-11-04 07:39:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:54:00 ~ 2025-11-04 07:39:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:2442 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 344개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 344개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 344개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:36:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:36:00
현재 시간: 2025-11-04 07:42:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:36:00 ~ 2025-11-04 07:42:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:36:00
  현재 날짜: 2025-11-04 07:42:11
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:42:11
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:09:00 ~ 2025-11-04 07:42:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:39:00 ~ 2025-11-04 07:42:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:39:00 ~ 2025-11-04 07:42:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:42:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:39:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:42:00
  [현재 캔들 시간] 2025-11-04 07:39:00
기존 파일 발견: 15개 데이터
새로운 데이터: 1개
병합 후: 15개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 15개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:39:00
수집 완료: 346개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00
백테스트 대상: 346개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:42:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:39:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:42:00
  [현재 캔들 시간] 2025-11-04 07:39:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:54:00 ~ 2025-11-04 07:39:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:54:00 ~ 2025-11-04 07:39:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 04:54:00 ~ 2025-11-04 07:39:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 51/15캔들, 수익률: +0.13%, 현재가: 160,427,000원
[보유 중] 경과: 52/15캔들, 수익률: +0.12%, 현재가: 160,426,000원
[보유 중] 경과: 53/15캔들, 수익률: +0.10%, 현재가: 160,387,000원
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:39:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,880,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:2858 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:9981 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 345개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 345개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 345개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:39:00
현재 시간: 2025-11-04 07:45:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:39:00 ~ 2025-11-04 07:45:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:39:00
  현재 날짜: 2025-11-04 07:45:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:45:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:12:00 ~ 2025-11-04 07:45:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:42:00 ~ 2025-11-04 07:45:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:42:00 ~ 2025-11-04 07:45:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:45:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:42:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:45:00
  [현재 캔들 시간] 2025-11-04 07:42:00
기존 파일 발견: 15개 데이터
새로운 데이터: 1개
병합 후: 16개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 16개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:42:00
수집 완료: 347개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
백테스트 대상: 347개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:45:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:42:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:45:00
  [현재 캔들 시간] 2025-11-04 07:42:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:57:00 ~ 2025-11-04 07:42:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:57:00 ~ 2025-11-04 07:42:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:11380 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 345개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 345개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:39:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 346개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:42:00
현재 시간: 2025-11-04 07:45:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:42:00 ~ 2025-11-04 07:45:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:42:00
  현재 날짜: 2025-11-04 07:45:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T07:45:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:15:00 ~ 2025-11-04 07:45:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 07:45:00 ~ 2025-11-04 07:45:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 07:45:00 ~ 2025-11-04 07:45:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 07:45:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:42:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:45:00
저장할 데이터가 없습니다.
수집 완료: 347개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
백테스트 대상: 347개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:45:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:42:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:45:00
  [현재 캔들 시간] 2025-11-04 07:42:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 04:57:00 ~ 2025-11-04 07:42:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 04:57:00 ~ 2025-11-04 07:42:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 04:57:00 ~ 2025-11-04 07:42:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 52/15캔들, 수익률: +0.12%, 현재가: 160,426,000원
[보유 중] 경과: 53/15캔들, 수익률: +0.10%, 현재가: 160,387,000원
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:42:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,856,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:3056 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:9099 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 346개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 346개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 346개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:42:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:42:00
현재 시간: 2025-11-04 07:48:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:42:00 ~ 2025-11-04 07:48:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:42:00
  현재 날짜: 2025-11-04 07:48:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:48:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:15:00 ~ 2025-11-04 07:48:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:45:00 ~ 2025-11-04 07:48:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:45:00 ~ 2025-11-04 07:48:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:45:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:48:00
  [현재 캔들 시간] 2025-11-04 07:45:00
기존 파일 발견: 16개 데이터
새로운 데이터: 1개
병합 후: 17개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 17개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:45:00
수집 완료: 348개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
백테스트 대상: 348개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:45:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:48:00
  [현재 캔들 시간] 2025-11-04 07:45:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:00:00 ~ 2025-11-04 07:45:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:00:00 ~ 2025-11-04 07:45:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:2682 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 347개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 347개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 347개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:45:00
현재 시간: 2025-11-04 07:48:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:45:00 ~ 2025-11-04 07:48:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:45:00
  현재 날짜: 2025-11-04 07:48:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T07:48:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:18:00 ~ 2025-11-04 07:48:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 07:48:00 ~ 2025-11-04 07:48:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 07:48:00 ~ 2025-11-04 07:48:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 07:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:45:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:48:00
저장할 데이터가 없습니다.
수집 완료: 348개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
백테스트 대상: 348개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:45:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:48:00
  [현재 캔들 시간] 2025-11-04 07:45:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:00:00 ~ 2025-11-04 07:45:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:00:00 ~ 2025-11-04 07:45:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:00:00 ~ 2025-11-04 07:45:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 53/15캔들, 수익률: +0.10%, 현재가: 160,387,000원
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:45:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,619,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음INFO:     116.37.80.183:9730 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음INFO:     116.37.80.183:14489 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 347개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 347개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 347개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:45:00
현재 시간: 2025-11-04 07:51:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:45:00 ~ 2025-11-04 07:51:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:45:00
  현재 날짜: 2025-11-04 07:51:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:51:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:18:00 ~ 2025-11-04 07:51:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:48:00 ~ 2025-11-04 07:51:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:48:00 ~ 2025-11-04 07:51:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:51:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:48:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:51:00
  [현재 캔들 시간] 2025-11-04 07:48:00
기존 파일 발견: 17개 데이터
새로운 데이터: 1개
병합 후: 18개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 18개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:48:00
수집 완료: 349개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:51:00
백테스트 대상: 349개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:51:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:51:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:48:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:51:00
  [현재 캔들 시간] 2025-11-04 07:48:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:03:00 ~ 2025-11-04 07:48:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:03:00 ~ 2025-11-04 07:48:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:4730 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     211.249.242.20:60700 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 347개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 347개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:45:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 348개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:48:00
현재 시간: 2025-11-04 07:51:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:48:00 ~ 2025-11-04 07:51:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:48:00
  현재 날짜: 2025-11-04 07:51:11
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T07:51:11
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:21:00 ~ 2025-11-04 07:51:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 07:51:00 ~ 2025-11-04 07:51:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 07:51:00 ~ 2025-11-04 07:51:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 07:51:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:48:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:51:00
저장할 데이터가 없습니다.
수집 완료: 349개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:51:00
백테스트 대상: 349개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:51:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:51:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:48:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:51:00
  [현재 캔들 시간] 2025-11-04 07:48:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:03:00 ~ 2025-11-04 07:48:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:03:00 ~ 2025-11-04 07:48:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:03:00 ~ 2025-11-04 07:48:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 54/15캔들, 수익률: +0.07%, 현재가: 160,346,000원
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원
[보유 중] 경과: 68/15캔들, 수익률: -0.48%, 현재가: 159,461,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:48:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,461,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음INFO:     42.82.132.202:44982 - "GET / HTTP/1.1" 200 OK
대기 시간: 0시간 2분 25초 남음INFO:     42.82.132.202:44982 - "GET /api/images/today HTTP/1.1" 200 OK
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/run_server.py", line 149, in get_status
    return JSONResponse(content=status)
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type Timestamp is not JSON serializable
when serializing dict item 'buy_condition_date'
when serializing dict item 'trade_state'

INFO:     42.82.132.202:44992 - "GET /api/status HTTP/1.1" 500 Internal Server Error
대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음INFO:     42.82.132.202:44990 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     42.82.132.202:44994 - "GET /api/results HTTP/1.1" 200 OK
INFO:     42.82.132.202:44988 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     42.82.132.202:44986 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     42.82.132.202:44992 - "GET /favicon.ico HTTP/1.1" 404 Not Found
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     42.82.132.202:44990 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     42.82.132.202:44990 - "GET /api/images/today?t=1762210303025 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     42.82.132.202:44992 - "GET /api/images/balance_history?t=1762210303025 HTTP/1.1" 404 Not Found
대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음INFO:     42.82.132.202:45000 - "GET /api/balance HTTP/1.1" 200 OK
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/run_server.py", line 149, in get_status
    return JSONResponse(content=status)
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type Timestamp is not JSON serializable
when serializing dict item 'buy_condition_date'
when serializing dict item 'trade_state'

INFO:     42.82.132.202:45004 - "GET /api/status HTTP/1.1" 500 Internal Server Error
대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음INFO:     42.82.132.202:45002 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     42.82.132.202:44998 - "GET /api/results HTTP/1.1" 200 OK
INFO:     42.82.132.202:45006 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     42.82.132.202:44998 - "GET /api/images/today?t=1762210317918 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     42.82.132.202:45006 - "GET /api/images/balance_history?t=1762210317918 HTTP/1.1" 404 Not Found
대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음INFO:     42.82.132.202:45014 - "GET /api/results HTTP/1.1" 200 OK
INFO:     42.82.132.202:45018 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     42.82.132.202:45010 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음INFO:     42.82.132.202:45016 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     42.82.132.202:45012 - "GET /api/trades HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     42.82.132.202:45016 - "GET /api/images/balance_history?t=1762210332959 HTTP/1.1" 404 Not Found
INFO:     42.82.132.202:45012 - "GET /api/images/today?t=1762210332959 HTTP/1.1" 200 OK
대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음INFO:     42.82.132.202:45020 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음INFO:     42.82.132.202:45026 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     42.82.132.202:45024 - "GET /api/results HTTP/1.1" 200 OK
INFO:     42.82.132.202:45022 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     42.82.132.202:45028 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     42.82.132.202:45024 - "GET /api/images/today?t=1762210347991 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     42.82.132.202:45022 - "GET /api/images/balance_history?t=1762210347991 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:7781 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:4449 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 348개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 348개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 348개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:48:00
현재 시간: 2025-11-04 07:54:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:48:00 ~ 2025-11-04 07:54:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:48:00
  현재 날짜: 2025-11-04 07:54:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:54:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:21:00 ~ 2025-11-04 07:54:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:51:00 ~ 2025-11-04 07:54:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:51:00 ~ 2025-11-04 07:54:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:51:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:54:00
  [현재 캔들 시간] 2025-11-04 07:51:00
기존 파일 발견: 19개 데이터
새로운 데이터: 1개
병합 후: 19개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 19개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:51:00
수집 완료: 350개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
백테스트 대상: 350개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:51:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:54:00
  [현재 캔들 시간] 2025-11-04 07:51:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:06:00 ~ 2025-11-04 07:51:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:06:00 ~ 2025-11-04 07:51:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:06:00 ~ 2025-11-04 07:51:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 55/15캔들, 수익률: -0.07%, 현재가: 160,113,000원
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원
[보유 중] 경과: 68/15캔들, 수익률: -0.48%, 현재가: 159,461,000원
[보유 중] 경과: 69/15캔들, 수익률: -0.57%, 현재가: 159,307,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:51:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,337,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:3623 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 348개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 348개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 348개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:48:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:48:00
현재 시간: 2025-11-04 07:54:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:48:00 ~ 2025-11-04 07:54:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:48:00
  현재 날짜: 2025-11-04 07:54:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:54:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:21:00 ~ 2025-11-04 07:54:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:51:00 ~ 2025-11-04 07:54:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:51:00 ~ 2025-11-04 07:54:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:51:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:54:00
  [현재 캔들 시간] 2025-11-04 07:51:00
기존 파일 발견: 18개 데이터
새로운 데이터: 1개
병합 후: 19개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 19개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:51:00
수집 완료: 350개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
백테스트 대상: 350개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:51:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:54:00
  [현재 캔들 시간] 2025-11-04 07:51:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:06:00 ~ 2025-11-04 07:51:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:06:00 ~ 2025-11-04 07:51:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:11080 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:9306 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 350개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 350개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 350개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:54:00
현재 시간: 2025-11-04 07:57:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:54:00 ~ 2025-11-04 07:57:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:54:00
  현재 날짜: 2025-11-04 07:57:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T07:57:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:27:00 ~ 2025-11-04 07:57:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 07:57:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 07:57:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 07:57:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:54:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:57:00
저장할 데이터가 없습니다.
수집 완료: 351개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
백테스트 대상: 351개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:57:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:54:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:57:00
  [현재 캔들 시간] 2025-11-04 07:54:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:09:00 ~ 2025-11-04 07:54:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:09:00 ~ 2025-11-04 07:54:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:09:00 ~ 2025-11-04 07:54:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 56/15캔들, 수익률: -0.08%, 현재가: 160,095,000원
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원
[보유 중] 경과: 68/15캔들, 수익률: -0.48%, 현재가: 159,461,000원
[보유 중] 경과: 69/15캔들, 수익률: -0.57%, 현재가: 159,307,000원
[보유 중] 경과: 70/15캔들, 수익률: -0.59%, 현재가: 159,285,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:54:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,281,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음INFO:     116.37.80.183:4191 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:2905 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:10449 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 350개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 350개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 350개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:54:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:54:00
현재 시간: 2025-11-04 08:00:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:54:00 ~ 2025-11-04 08:00:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:54:00
  현재 날짜: 2025-11-04 08:00:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T08:00:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:27:00 ~ 2025-11-04 08:00:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 08:00:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 08:00:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 08:00:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:57:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:00:00
  [현재 캔들 시간] 2025-11-04 07:57:00
기록 파일 저장 완료 (실시간 업데이트, 새 파일 생성): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_08.csv
  총 1개 데이터
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 07:57:00
수집 완료: 352개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
백테스트 대상: 352개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:00:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:57:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:00:00
  [현재 캔들 시간] 2025-11-04 07:57:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:12:00 ~ 2025-11-04 07:57:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:12:00 ~ 2025-11-04 07:57:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:12:00 ~ 2025-11-04 07:57:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 57/15캔들, 수익률: -0.20%, 현재가: 159,911,000원
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원
[보유 중] 경과: 68/15캔들, 수익률: -0.48%, 현재가: 159,461,000원
[보유 중] 경과: 69/15캔들, 수익률: -0.57%, 현재가: 159,307,000원
[보유 중] 경과: 70/15캔들, 수익률: -0.59%, 현재가: 159,285,000원
[보유 중] 경과: 71/15캔들, 수익률: -0.54%, 현재가: 159,354,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 05:57:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,354,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:5529 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 349개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:51:00
  로드된 파일 수: 18개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 349개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:51:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 349개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:51:00
  로드된 파일 수: 18개
기존 기록 마지막 시간: 2025-11-04 07:51:00
현재 시간: 2025-11-04 07:57:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:51:00 ~ 2025-11-04 07:57:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:51:00
  현재 날짜: 2025-11-04 07:57:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T07:57:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:24:00 ~ 2025-11-04 07:57:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 07:54:00 ~ 2025-11-04 07:57:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 07:54:00 ~ 2025-11-04 07:57:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 07:57:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:54:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:57:00
  [현재 캔들 시간] 2025-11-04 07:54:00
기존 파일 발견: 19개 데이터
새로운 데이터: 1개
병합 후: 20개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_07.csv
  총 20개 데이터
  기간: 2025-11-04 06:57:00 ~ 2025-11-04 07:54:00
수집 완료: 351개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
백테스트 대상: 351개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 07:57:10
  cutoff 시간 (현재 - 3m): 2025-11-04 07:54:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 07:57:00
  [현재 캔들 시간] 2025-11-04 07:54:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:09:00 ~ 2025-11-04 07:54:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:09:00 ~ 2025-11-04 07:54:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 351개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 351개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 351개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 07:57:00
현재 시간: 2025-11-04 08:00:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:57:00 ~ 2025-11-04 08:00:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:57:00
  현재 날짜: 2025-11-04 08:00:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T08:00:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:30:00 ~ 2025-11-04 08:00:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 08:00:00 ~ 2025-11-04 08:00:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 08:00:00 ~ 2025-11-04 08:00:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 08:00:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:57:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:00:00
저장할 데이터가 없습니다.
수집 완료: 352개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
백테스트 대상: 352개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:00:11
  cutoff 시간 (현재 - 3m): 2025-11-04 07:57:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:00:00
  [현재 캔들 시간] 2025-11-04 07:57:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:12:00 ~ 2025-11-04 07:57:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:12:00 ~ 2025-11-04 07:57:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:8505 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:9342 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 352개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 352개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 352개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 08:00:00
현재 시간: 2025-11-04 08:03:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 08:00:00 ~ 2025-11-04 08:03:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 08:00:00
  현재 날짜: 2025-11-04 08:03:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T08:03:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:33:00 ~ 2025-11-04 08:03:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 08:03:00 ~ 2025-11-04 08:03:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 08:03:00 ~ 2025-11-04 08:03:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 08:03:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:00:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:03:00
저장할 데이터가 없습니다.
수집 완료: 353개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
백테스트 대상: 353개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:03:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:00:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:03:00
  [현재 캔들 시간] 2025-11-04 08:00:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:15:00 ~ 2025-11-04 08:00:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:15:00 ~ 2025-11-04 08:00:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:15:00 ~ 2025-11-04 08:00:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 58/15캔들, 수익률: -0.22%, 현재가: 159,867,000원
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원
[보유 중] 경과: 68/15캔들, 수익률: -0.48%, 현재가: 159,461,000원
[보유 중] 경과: 69/15캔들, 수익률: -0.57%, 현재가: 159,307,000원
[보유 중] 경과: 70/15캔들, 수익률: -0.59%, 현재가: 159,285,000원
[보유 중] 경과: 71/15캔들, 수익률: -0.54%, 현재가: 159,354,000원
[보유 중] 경과: 72/15캔들, 수익률: -0.28%, 현재가: 159,778,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 06:00:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 159,778,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:1125 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:13974 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음INFO:     106.101.68.92:51480 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 351개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 351개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 351개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 07:57:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 07:57:00
현재 시간: 2025-11-04 08:03:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 07:57:00 ~ 2025-11-04 08:03:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 07:57:00
  현재 날짜: 2025-11-04 08:03:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T08:03:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:30:00 ~ 2025-11-04 08:03:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 08:00:00 ~ 2025-11-04 08:03:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 08:00:00 ~ 2025-11-04 08:03:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 08:03:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:00:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:03:00
  [현재 캔들 시간] 2025-11-04 08:00:00
기존 파일 발견: 1개 데이터
새로운 데이터: 1개
병합 후: 2개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_08.csv
  총 2개 데이터
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 08:00:00
수집 완료: 353개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
백테스트 대상: 353개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:03:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:00:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:03:00
  [현재 캔들 시간] 2025-11-04 08:00:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:15:00 ~ 2025-11-04 08:00:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:15:00 ~ 2025-11-04 08:00:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음INFO:     106.101.68.92:51464 - "GET /api/status HTTP/1.1" 200 OK
INFO:     106.101.68.92:51516 - "GET /api/images/today?t=1762211087597 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:41636 - "GET /api/images/balance_history?t=1762184510246 HTTP/1.1" 404 Not Found
INFO:     106.101.68.92:51454 - "GET /api/results HTTP/1.1" 200 OK
INFO:     106.101.68.92:63886 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     106.101.68.92:51464 - "GET / HTTP/1.1" 200 OK
INFO:     106.101.68.92:51480 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     106.101.68.92:41636 - "GET /api/images/3days?t=1762211087597 HTTP/1.1" 200 OK
INFO:     106.101.68.92:51454 - "GET /api/images/5days?t=1762211087597 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:63886 - "GET /api/images/balance_history?t=1762211087597 HTTP/1.1" 404 Not Found
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/run_server.py", line 149, in get_status
    return JSONResponse(content=status)
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type Timestamp is not JSON serializable
when serializing dict item 'buy_condition_date'
when serializing dict item 'trade_state'

INFO:     106.101.68.92:51480 - "GET /api/status HTTP/1.1" 500 Internal Server Error
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:51464 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     106.101.68.92:51516 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     106.101.68.92:28240 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     106.101.68.92:51538 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     106.101.68.92:51528 - "GET /api/results HTTP/1.1" 200 OK
INFO:     106.101.68.92:51516 - "GET /api/images/today HTTP/1.1" 200 OK
INFO:     106.101.68.92:28240 - "GET /api/images/today?t=1762211088317 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:51538 - "GET /api/images/balance_history?t=1762211088317 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음INFO:     106.101.68.92:28240 - "GET / HTTP/1.1" 200 OK
대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음INFO:     106.101.68.92:51538 - "GET /api/status HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:28240 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     106.101.68.92:51516 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     106.101.68.92:51528 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     106.101.68.92:51464 - "GET /api/results HTTP/1.1" 200 OK
INFO:     106.101.68.92:51480 - "GET /api/assets_history HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:51528 - "GET /api/images/balance_history?t=1762211092062 HTTP/1.1" 404 Not Found
INFO:     106.101.68.92:51464 - "GET /api/images/today?t=1762211092062 HTTP/1.1" 200 OK
대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음INFO:     106.101.68.92:46908 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음INFO:     106.101.68.92:41958 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     106.101.68.92:46912 - "GET /api/results HTTP/1.1" 200 OK
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/run_server.py", line 149, in get_status
    return JSONResponse(content=status)
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type Timestamp is not JSON serializable
when serializing dict item 'buy_condition_date'
when serializing dict item 'trade_state'

INFO:     106.101.68.92:46886 - "GET /api/status HTTP/1.1" 500 Internal Server Error
INFO:     106.101.68.92:46892 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     106.101.68.92:46892 - "GET /api/images/today?t=1762211107255 HTTP/1.1" 200 OK
대기 시간: 0시간 1분 2초 남음조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:46892 - "GET /api/images/balance_history?t=1762211107255 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음INFO:     106.101.68.92:46942 - "GET / HTTP/1.1" 200 OK
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/run_server.py", line 149, in get_status
    return JSONResponse(content=status)
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 189, in __init__
    super().__init__(content, status_code, headers, media_type, background)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 46, in __init__
    self.body = self.render(content)
                ~~~~~~~~~~~^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/.venv2/lib/python3.14t/site-packages/starlette/responses.py", line 192, in render
    return json.dumps(
           ~~~~~~~~~~^
        content,
        ^^^^^^^^
    ...<3 lines>...
        separators=(",", ":"),
        ^^^^^^^^^^^^^^^^^^^^^^
    ).encode("utf-8")
    ^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/home/jay/.local/share/uv/python/cpython-3.14.0b4+freethreaded-linux-x86_64-gnu/lib/python3.14t/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type Timestamp is not JSON serializable
when serializing dict item 'buy_condition_date'
when serializing dict item 'trade_state'

INFO:     106.101.68.92:46942 - "GET /api/status HTTP/1.1" 500 Internal Server Error
대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음INFO:     106.101.68.92:46952 - "GET /api/balance HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:46998 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     106.101.68.92:46970 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     106.101.68.92:50764 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     106.101.68.92:46956 - "GET /api/results HTTP/1.1" 200 OK
INFO:     106.101.68.92:46956 - "GET /api/images/today?t=1762211115263 HTTP/1.1" 200 OK
대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:37218 - "GET /api/images/balance_history?t=1762211115263 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음INFO:     106.101.68.92:55722 - "GET /api/images/5days?t=1762211115263 HTTP/1.1" 200 OK
INFO:     106.101.68.92:55722 - "GET /api/status HTTP/1.1" 200 OK
INFO:     106.101.68.92:55748 - "GET /api/trades HTTP/1.1" 200 OK
대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음INFO:     106.101.68.92:55762 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     106.101.68.92:55732 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     106.101.68.92:55778 - "GET /api/results HTTP/1.1" 200 OK
INFO:     106.101.68.92:55762 - "GET /api/images/5days?t=1762211130336 HTTP/1.1" 200 OK
INFO:     106.101.68.92:55778 - "GET /api/images/today?t=1762211130336 HTTP/1.1" 200 OK
대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음INFO:     116.37.80.183:6419 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음INFO:     106.101.68.92:36572 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음INFO:     106.101.68.92:36606 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     106.101.68.92:36560 - "GET /api/results HTTP/1.1" 200 OK
INFO:     106.101.68.92:36594 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     106.101.68.92:36584 - "GET /api/assets_history HTTP/1.1" 200 OK
대기 시간: 0시간 0분 24초 남음INFO:     106.101.68.92:36584 - "GET /api/images/5days?t=1762211145371 HTTP/1.1" 200 OK
INFO:     106.101.68.92:36594 - "GET /api/images/today?t=1762211145371 HTTP/1.1" 200 OK
대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음INFO:     106.101.68.92:36594 - "GET /logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 21초 남음INFO:     106.101.68.92:36594 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음INFO:     106.101.68.92:34466 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음INFO:     106.101.68.92:34482 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 353개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 353개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 353개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 08:03:00
현재 시간: 2025-11-04 08:06:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 08:03:00 ~ 2025-11-04 08:06:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 08:03:00
  현재 날짜: 2025-11-04 08:06:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T08:06:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:36:00 ~ 2025-11-04 08:06:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 08:06:00 ~ 2025-11-04 08:06:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 08:06:00 ~ 2025-11-04 08:06:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 08:06:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:03:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:06:00
저장할 데이터가 없습니다.
수집 완료: 354개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:06:00
백테스트 대상: 354개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:06:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:06:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:03:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:06:00
  [현재 캔들 시간] 2025-11-04 08:03:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:18:00 ~ 2025-11-04 08:03:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:18:00 ~ 2025-11-04 08:03:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:18:00 ~ 2025-11-04 08:03:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 59/15캔들, 수익률: -0.26%, 현재가: 159,813,000원
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원
[보유 중] 경과: 68/15캔들, 수익률: -0.48%, 현재가: 159,461,000원
[보유 중] 경과: 69/15캔들, 수익률: -0.57%, 현재가: 159,307,000원
[보유 중] 경과: 70/15캔들, 수익률: -0.59%, 현재가: 159,285,000원
[보유 중] 경과: 71/15캔들, 수익률: -0.54%, 현재가: 159,354,000원
[보유 중] 경과: 72/15캔들, 수익률: -0.28%, 현재가: 159,778,000원
[보유 중] 경과: 73/15캔들, 수익률: +0.05%, 현재가: 160,300,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 06:03:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 160,299,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음INFO:     116.37.80.183:5401 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음INFO:     116.37.80.183:2229 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음INFO:     116.37.80.183:3492 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 352개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 352개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 352개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:00:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 08:00:00
현재 시간: 2025-11-04 08:06:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 08:00:00 ~ 2025-11-04 08:06:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 08:00:00
  현재 날짜: 2025-11-04 08:06:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T08:06:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:33:00 ~ 2025-11-04 08:06:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 08:03:00 ~ 2025-11-04 08:06:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 08:03:00 ~ 2025-11-04 08:06:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 08:06:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:03:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:06:00
  [현재 캔들 시간] 2025-11-04 08:03:00
기존 파일 발견: 2개 데이터
새로운 데이터: 1개
병합 후: 3개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_08.csv
  총 3개 데이터
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 08:03:00
수집 완료: 354개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:06:00
백테스트 대상: 354개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:06:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:06:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:03:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:06:00
  [현재 캔들 시간] 2025-11-04 08:03:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:18:00 ~ 2025-11-04 08:03:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:18:00 ~ 2025-11-04 08:03:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음INFO:     116.37.80.183:13746 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음INFO:     116.37.80.183:11676 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음INFO:     116.37.80.183:6232 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 353개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 353개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 353개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:03:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 08:03:00
현재 시간: 2025-11-04 08:09:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 08:03:00 ~ 2025-11-04 08:09:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 08:03:00
  현재 날짜: 2025-11-04 08:09:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T08:09:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 07:36:00 ~ 2025-11-04 08:09:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 08:06:00 ~ 2025-11-04 08:09:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 08:06:00 ~ 2025-11-04 08:09:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 08:09:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:06:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:09:00
  [현재 캔들 시간] 2025-11-04 08:06:00
기존 파일 발견: 3개 데이터
새로운 데이터: 1개
병합 후: 4개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_08.csv
  총 4개 데이터
  기간: 2025-11-04 07:57:00 ~ 2025-11-04 08:06:00
수집 완료: 355개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:09:00
백테스트 대상: 355개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:09:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:09:10
  cutoff 시간 (현재 - 3m): 2025-11-04 08:06:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:09:00
  [현재 캔들 시간] 2025-11-04 08:06:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:21:00 ~ 2025-11-04 08:06:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:21:00 ~ 2025-11-04 08:06:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 468, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음INFO:     106.101.68.92:60858 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:06:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-03
백테스트 기간: 2025-11-03 ~ (마지막)
  ✓ 기존 데이터 발견: 354개 데이터
  기존 데이터 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:06:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:06:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 08:06:00
현재 시간: 2025-11-04 08:09:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 08:06:00 ~ 2025-11-04 08:09:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 08:06:00
  현재 날짜: 2025-11-04 08:09:11
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T08:09:11
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 07:39:00 ~ 2025-11-04 08:09:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 08:09:00 ~ 2025-11-04 08:09:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 08:09:00 ~ 2025-11-04 08:09:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 08:09:11
  cutoff 시간 (현재 - 3m): 2025-11-04 08:06:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:09:00
저장할 데이터가 없습니다.
수집 완료: 355개 데이터
전체 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:09:00
백테스트 대상: 355개 데이터 (제외: 0개)
백테스트 기간: 2025-11-03 14:27:00 ~ 2025-11-04 08:09:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 08:09:11
  cutoff 시간 (현재 - 3m): 2025-11-04 08:06:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 08:09:00
  [현재 캔들 시간] 2025-11-04 08:06:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 05:21:00 ~ 2025-11-04 08:06:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 160,226,000원
  매수 조건 확인 날짜: 2025-11-04 02:21:00
  매수 실행 날짜: 2025-11-04 02:21:00

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 05:21:00 ~ 2025-11-04 08:06:00

[경고] 저장된 매수 조건 날짜(2025-11-04 02:21:00)가 현재 백테스트 데이터 범위에 없습니다.
  현재 백테스트 데이터 범위: 2025-11-04 05:21:00 ~ 2025-11-04 08:06:00
  매도 조건 확인을 위해 첫 번째 캔들을 매수 시점으로 간주합니다.
[보유 중] 경과: 60/15캔들, 수익률: -0.29%, 현재가: 159,756,000원
[보유 중] 경과: 61/15캔들, 수익률: -0.40%, 현재가: 159,592,000원
[보유 중] 경과: 62/15캔들, 수익률: -0.32%, 현재가: 159,721,000원
[보유 중] 경과: 63/15캔들, 수익률: -0.25%, 현재가: 159,818,000원
[보유 중] 경과: 64/15캔들, 수익률: -0.22%, 현재가: 159,877,000원
[보유 중] 경과: 65/15캔들, 수익률: -0.24%, 현재가: 159,848,000원
[보유 중] 경과: 66/15캔들, 수익률: -0.25%, 현재가: 159,824,000원
[보유 중] 경과: 67/15캔들, 수익률: -0.38%, 현재가: 159,620,000원
[보유 중] 경과: 68/15캔들, 수익률: -0.48%, 현재가: 159,461,000원
[보유 중] 경과: 69/15캔들, 수익률: -0.57%, 현재가: 159,307,000원
[보유 중] 경과: 70/15캔들, 수익률: -0.59%, 현재가: 159,285,000원
[보유 중] 경과: 71/15캔들, 수익률: -0.54%, 현재가: 159,354,000원
[보유 중] 경과: 72/15캔들, 수익률: -0.28%, 현재가: 159,778,000원
[보유 중] 경과: 73/15캔들, 수익률: +0.05%, 현재가: 160,300,000원
[보유 중] 경과: 74/15캔들, 수익률: -0.09%, 현재가: 160,076,000원

[매도 조건 만족] 보유 기간 만료
  매수 조건 날짜: 2025-11-04 02:21:00
  현재 캔들 날짜: 2025-11-04 06:06:00
  경과 캔들 수: 15개 (목표: 15개)
  매도 가격: 160,076,000원 (오픈가)
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 885, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 676, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 208, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 518, in _check_sell_conditions
    return self._execute_sell_with_price(candle, current_candle_index, 'SELL (기간 만료)', sell_price)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 558, in _execute_sell_with_price
    profit_percent = (profit / (self._coin_amount * self._buy_price)) * 100
                      ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음INFO:     106.101.68.92:27966 - "GET /api/logs HTTP/1.1" 200 OK
INFO:     106.101.68.92:60880 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     106.101.68.92:14516 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     106.101.68.92:60848 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     106.101.68.92:19054 - "GET /api/results HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:60858 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     106.101.68.92:14516 - "GET /api/images/balance_history?t=1762211452590 HTTP/1.1" 404 Not Found
INFO:     106.101.68.92:19054 - "GET /api/images/today?t=1762211452590 HTTP/1.1" 200 OK
대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음INFO:     106.101.68.92:19054 - "GET /api/logs HTTP/1.1" 200 OK
대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음INFO:     106.101.68.92:52410 - "GET /api/logs HTTP/1.1" 200 OK
INFO:     Received SIGTERM, exiting.
INFO:     Terminated child process [1017536]
INFO:     Terminated child process [1017537]
INFO:     Waiting for child process [1017536]
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1017536]
INFO:     Waiting for child process [1017537]
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1017537]
INFO:     Stopping parent process [1017502]
nohup.out 파일 크기가 1MB를 초과했습니다. 오래된 로그를 삭제합니다...
