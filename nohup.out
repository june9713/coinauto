py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 352개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:03:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 352개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:03:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 352개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:03:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:03:00
현재 시간: 2025-11-04 22:09:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:03:00 ~ 2025-11-04 22:09:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:03:00
  현재 날짜: 2025-11-04 22:09:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:09:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:36:00 ~ 2025-11-04 22:09:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:06:00 ~ 2025-11-04 22:09:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:06:00 ~ 2025-11-04 22:09:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:09:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:06:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:09:00
  [현재 캔들 시간] 2025-11-04 22:06:00
기존 파일 발견: 3개 데이터
새로운 데이터: 1개
병합 후: 4개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 4개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:06:00
수집 완료: 354개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
백테스트 대상: 354개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:09:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:06:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:09:00
  [현재 캔들 시간] 2025-11-04 22:06:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:21:00 ~ 2025-11-04 22:06:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:21:00 ~ 2025-11-04 22:06:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음INFO:     116.37.80.183:39940 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:39960 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:39966 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:39980 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:39994 - "GET /api/images/today?t=1762261916940 HTTP/1.1" 200 OK
INFO:     116.37.80.183:39966 - "GET /api/images/5days?t=1762261916940 HTTP/1.1" 200 OK
INFO:     116.37.80.183:39944 - "GET /api/images/3days?t=1762261916940 HTTP/1.1" 200 OK
INFO:     116.37.80.183:39994 - "GET /api/images/today?t=1762261917140 HTTP/1.1" 200 OK
INFO:     116.37.80.183:39960 - "GET /api/images/5days?t=1762261917140 HTTP/1.1" 200 OK
INFO:     116.37.80.183:39980 - "GET /api/images/3days?t=1762261917140 HTTP/1.1" 200 OK
대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음INFO:     116.37.80.183:39994 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:39960 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:39980 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:39940 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:40006 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:40006 - "GET /api/images/today?t=1762261921949 HTTP/1.1" 200 OK
INFO:     116.37.80.183:39960 - "GET /api/images/5days?t=1762261921949 HTTP/1.1" 200 OK
INFO:     116.37.80.183:39980 - "GET /api/images/3days?t=1762261921949 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:40006 - "GET /api/images/balance_history?t=1762261921949 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 354개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:09:00
현재 시간: 2025-11-04 22:12:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:09:00 ~ 2025-11-04 22:12:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:09:00
  현재 날짜: 2025-11-04 22:12:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:12:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 21:42:00 ~ 2025-11-04 22:12:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:12:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:12:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:12:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:09:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:12:00
저장할 데이터가 없습니다.
수집 완료: 355개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
백테스트 대상: 355개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:12:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:09:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:12:00
  [현재 캔들 시간] 2025-11-04 22:09:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:24:00 ~ 2025-11-04 22:09:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:24:00 ~ 2025-11-04 22:09:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 0회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 9회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 29회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 26회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 4회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1657개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1657개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:12:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1657개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:12:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:09:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:09:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,208 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,208 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
INFO:     116.37.80.183:48768 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:48778 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 353개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:06:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 353개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:06:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 353개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:06:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:06:00
현재 시간: 2025-11-04 22:12:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:06:00 ~ 2025-11-04 22:12:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:06:00
  현재 날짜: 2025-11-04 22:12:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:12:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:39:00 ~ 2025-11-04 22:12:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:09:00 ~ 2025-11-04 22:12:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:09:00 ~ 2025-11-04 22:12:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:12:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:09:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:12:00
  [현재 캔들 시간] 2025-11-04 22:09:00
기존 파일 발견: 4개 데이터
새로운 데이터: 1개
병합 후: 5개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 5개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:09:00
수집 완료: 355개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
백테스트 대상: 355개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:12:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:09:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:12:00
  [현재 캔들 시간] 2025-11-04 22:09:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:24:00 ~ 2025-11-04 22:09:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:24:00 ~ 2025-11-04 22:09:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음INFO:     116.37.80.183:55856 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:55848 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:55850 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:55848 - "GET /api/images/3days?t=1762261937044 HTTP/1.1" 200 OK
INFO:     116.37.80.183:55856 - "GET /api/images/5days?t=1762261937044 HTTP/1.1" 200 OK
INFO:     116.37.80.183:55850 - "GET /api/images/today?t=1762261937044 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:55848 - "GET /api/images/balance_history?t=1762261937044 HTTP/1.1" 404 Not Found
대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 354개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:09:00
현재 시간: 2025-11-04 22:15:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:09:00 ~ 2025-11-04 22:15:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:09:00
  현재 날짜: 2025-11-04 22:15:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:15:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:42:00 ~ 2025-11-04 22:15:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:15:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:15:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:15:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:12:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:15:00
  [현재 캔들 시간] 2025-11-04 22:12:00
기존 파일 발견: 6개 데이터
새로운 데이터: 1개
병합 후: 6개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 6개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:12:00
수집 완료: 356개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
백테스트 대상: 356개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:15:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:12:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:15:00
  [현재 캔들 시간] 2025-11-04 22:12:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:27:00 ~ 2025-11-04 22:12:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:27:00 ~ 2025-11-04 22:12:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 355개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 355개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 355개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:12:00
현재 시간: 2025-11-04 22:18:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:12:00 ~ 2025-11-04 22:18:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:12:00
  현재 날짜: 2025-11-04 22:18:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:18:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:45:00 ~ 2025-11-04 22:18:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:15:00 ~ 2025-11-04 22:18:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:15:00 ~ 2025-11-04 22:18:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:18:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:15:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:18:00
  [현재 캔들 시간] 2025-11-04 22:15:00
기존 파일 발견: 6개 데이터
새로운 데이터: 1개
병합 후: 7개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 7개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:15:00
수집 완료: 357개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
백테스트 대상: 357개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:18:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:15:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:18:00
  [현재 캔들 시간] 2025-11-04 22:15:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:30:00 ~ 2025-11-04 22:15:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:30:00 ~ 2025-11-04 22:15:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 356개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 356개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 356개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:15:00
현재 시간: 2025-11-04 22:21:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:15:00 ~ 2025-11-04 22:21:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:15:00
  현재 날짜: 2025-11-04 22:21:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:21:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:48:00 ~ 2025-11-04 22:21:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:18:00 ~ 2025-11-04 22:21:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:18:00 ~ 2025-11-04 22:21:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:21:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:18:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:21:00
  [현재 캔들 시간] 2025-11-04 22:18:00
기존 파일 발견: 7개 데이터
새로운 데이터: 1개
병합 후: 8개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 8개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:18:00
수집 완료: 358개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
백테스트 대상: 358개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:21:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:18:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:21:00
  [현재 캔들 시간] 2025-11-04 22:18:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:33:00 ~ 2025-11-04 22:18:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:33:00 ~ 2025-11-04 22:18:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 358개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 358개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 358개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:21:00
현재 시간: 2025-11-04 22:24:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:21:00 ~ 2025-11-04 22:24:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:21:00
  현재 날짜: 2025-11-04 22:24:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:24:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 21:54:00 ~ 2025-11-04 22:24:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:24:00 ~ 2025-11-04 22:24:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:24:00 ~ 2025-11-04 22:24:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:24:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:21:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:24:00
저장할 데이터가 없습니다.
수집 완료: 359개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
백테스트 대상: 359개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:24:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:21:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:24:00
  [현재 캔들 시간] 2025-11-04 22:21:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:36:00 ~ 2025-11-04 22:21:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:36:00 ~ 2025-11-04 22:21:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음INFO:     116.37.80.183:46622 - "GET /api/trades HTTP/1.1" 200 OK
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,208 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 354개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 354개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:09:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:09:00
현재 시간: 2025-11-04 22:15:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:09:00 ~ 2025-11-04 22:15:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:09:00
  현재 날짜: 2025-11-04 22:15:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:15:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:42:00 ~ 2025-11-04 22:15:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:15:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:15:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:15:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:12:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:15:00
  [현재 캔들 시간] 2025-11-04 22:12:00
기존 파일 발견: 5개 데이터
새로운 데이터: 1개
병합 후: 6개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 6개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:12:00
수집 완료: 356개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
백테스트 대상: 356개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:15:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:12:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:15:00
  [현재 캔들 시간] 2025-11-04 22:12:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:27:00 ~ 2025-11-04 22:12:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:27:00 ~ 2025-11-04 22:12:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 0회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 8회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 29회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 27회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 4회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1667개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1667개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:15:11 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1667개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:15:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:12:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:12:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,545 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,545 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:12:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,545 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 356개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 356개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 356개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:15:00
현재 시간: 2025-11-04 22:18:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:15:00 ~ 2025-11-04 22:18:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:15:00
  현재 날짜: 2025-11-04 22:18:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:18:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 21:48:00 ~ 2025-11-04 22:18:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:18:00 ~ 2025-11-04 22:18:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:18:00 ~ 2025-11-04 22:18:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:18:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:15:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:18:00
저장할 데이터가 없습니다.
수집 완료: 357개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
백테스트 대상: 357개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:18:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:15:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:18:00
  [현재 캔들 시간] 2025-11-04 22:15:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:30:00 ~ 2025-11-04 22:15:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:30:00 ~ 2025-11-04 22:15:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 0회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 9회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 28회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 27회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 5회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1677개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1677개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:18:11 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1677개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:18:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:15:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:15:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,489 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,489 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:15:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,489 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 357개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 357개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 357개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:18:00
현재 시간: 2025-11-04 22:21:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:18:00 ~ 2025-11-04 22:21:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:18:00
  현재 날짜: 2025-11-04 22:21:11
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:21:11
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 21:51:00 ~ 2025-11-04 22:21:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:21:00 ~ 2025-11-04 22:21:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:21:00 ~ 2025-11-04 22:21:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:21:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:18:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:21:00
저장할 데이터가 없습니다.
수집 완료: 358개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
백테스트 대상: 358개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:21:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:18:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:21:00
  [현재 캔들 시간] 2025-11-04 22:18:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:33:00 ~ 2025-11-04 22:18:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:33:00 ~ 2025-11-04 22:18:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 11회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 27회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 27회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 6회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1687개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1687개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:21:11 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1687개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:21:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:18:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:18:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,299 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,299 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,299 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 357개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 357개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 357개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:18:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:18:00
현재 시간: 2025-11-04 22:24:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:18:00 ~ 2025-11-04 22:24:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:18:00
  현재 날짜: 2025-11-04 22:24:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:24:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:51:00 ~ 2025-11-04 22:24:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:21:00 ~ 2025-11-04 22:24:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:21:00 ~ 2025-11-04 22:24:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:24:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:21:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:24:00
  [현재 캔들 시간] 2025-11-04 22:21:00
기존 파일 발견: 8개 데이터
새로운 데이터: 1개
병합 후: 9개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 9개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:21:00
수집 완료: 359개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
백테스트 대상: 359개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:24:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:21:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:24:00
  [현재 캔들 시간] 2025-11-04 22:21:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:36:00 ~ 2025-11-04 22:21:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:36:00 ~ 2025-11-04 22:21:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 0회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 13회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 28회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 27회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 7회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1697개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1697개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:24:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1697개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:24:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:21:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:21:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,551 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,551 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,551 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음INFO:     116.37.80.183:46628 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:46624 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:46620 - "GET /api/images/today?t=1762262449056 HTTP/1.1" 200 OK
INFO:     116.37.80.183:46638 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:46648 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:46628 - "GET /api/images/5days?t=1762262449056 HTTP/1.1" 200 OK
INFO:     116.37.80.183:46624 - "GET /api/images/3days?t=1762262449056 HTTP/1.1" 200 OK
대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 359개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 359개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 359개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:24:00
현재 시간: 2025-11-04 22:27:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:24:00 ~ 2025-11-04 22:27:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:24:00
  현재 날짜: 2025-11-04 22:27:11
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:27:11
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:27:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:27:00 ~ 2025-11-04 22:27:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:27:00 ~ 2025-11-04 22:27:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:27:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:24:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:27:00
저장할 데이터가 없습니다.
수집 완료: 360개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
백테스트 대상: 360개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:27:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:24:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:27:00
  [현재 캔들 시간] 2025-11-04 22:24:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:39:00 ~ 2025-11-04 22:24:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:39:00 ~ 2025-11-04 22:24:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 359개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 359개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 359개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:24:00
현재 시간: 2025-11-04 22:30:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:24:00 ~ 2025-11-04 22:30:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:24:00
  현재 날짜: 2025-11-04 22:30:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:30:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:30:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:27:00 ~ 2025-11-04 22:30:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:27:00 ~ 2025-11-04 22:30:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:27:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:30:00
  [현재 캔들 시간] 2025-11-04 22:27:00
기존 파일 발견: 10개 데이터
새로운 데이터: 1개
병합 후: 11개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 11개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:27:00
수집 완료: 361개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
백테스트 대상: 361개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:27:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:30:00
  [현재 캔들 시간] 2025-11-04 22:27:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:42:00 ~ 2025-11-04 22:27:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:42:00 ~ 2025-11-04 22:27:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 360개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 360개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 361개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:30:00
현재 시간: 2025-11-04 22:33:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:30:00 ~ 2025-11-04 22:33:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:30:00
  현재 날짜: 2025-11-04 22:33:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:33:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 22:03:00 ~ 2025-11-04 22:33:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:33:00 ~ 2025-11-04 22:33:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:33:00 ~ 2025-11-04 22:33:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:33:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:30:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:33:00
저장할 데이터가 없습니다.
수집 완료: 362개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
백테스트 대상: 362개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:33:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:30:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:33:00
  [현재 캔들 시간] 2025-11-04 22:30:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:45:00 ~ 2025-11-04 22:30:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:45:00 ~ 2025-11-04 22:30:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 362개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 362개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 362개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:33:00
현재 시간: 2025-11-04 22:36:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:33:00 ~ 2025-11-04 22:36:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:33:00
  현재 날짜: 2025-11-04 22:36:11
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:36:11
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 22:06:00 ~ 2025-11-04 22:36:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:36:00 ~ 2025-11-04 22:36:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:36:00 ~ 2025-11-04 22:36:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:36:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:33:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:36:00
저장할 데이터가 없습니다.
수집 완료: 363개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
백테스트 대상: 363개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:36:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:33:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:36:00
  [현재 캔들 시간] 2025-11-04 22:33:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:48:00 ~ 2025-11-04 22:33:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:48:00 ~ 2025-11-04 22:33:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 362개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 362개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 362개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:33:00
현재 시간: 2025-11-04 22:39:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:33:00 ~ 2025-11-04 22:39:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:33:00
  현재 날짜: 2025-11-04 22:39:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:39:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:06:00 ~ 2025-11-04 22:39:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:36:00 ~ 2025-11-04 22:39:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:36:00 ~ 2025-11-04 22:39:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:39:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:36:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:39:00
  [현재 캔들 시간] 2025-11-04 22:36:00
기존 파일 발견: 13개 데이터
새로운 데이터: 1개
병합 후: 14개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 14개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:36:00
수집 완료: 364개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
백테스트 대상: 364개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:39:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:36:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:39:00
  [현재 캔들 시간] 2025-11-04 22:36:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:51:00 ~ 2025-11-04 22:36:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:51:00 ~ 2025-11-04 22:36:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음INFO:     116.37.80.183:43488 - "GET / HTTP/1.1" 200 OK
대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 358개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 358개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 358개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:21:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:21:00
현재 시간: 2025-11-04 22:27:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:21:00 ~ 2025-11-04 22:27:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:21:00
  현재 날짜: 2025-11-04 22:27:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:27:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:54:00 ~ 2025-11-04 22:27:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:24:00 ~ 2025-11-04 22:27:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:24:00 ~ 2025-11-04 22:27:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:27:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:24:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:27:00
  [현재 캔들 시간] 2025-11-04 22:24:00
기존 파일 발견: 9개 데이터
새로운 데이터: 1개
병합 후: 10개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 10개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:24:00
수집 완료: 360개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
백테스트 대상: 360개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:27:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:24:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:27:00
  [현재 캔들 시간] 2025-11-04 22:24:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:39:00 ~ 2025-11-04 22:24:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:39:00 ~ 2025-11-04 22:24:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 1회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 0회
  조건 E 만족 (양봉): 0회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 12회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 25회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 26회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 5회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1707개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1707개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:27:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1707개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:27:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:24:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:24:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 149,079 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 149,079 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 149,079 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 359개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 359개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 359개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:24:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:24:00
현재 시간: 2025-11-04 22:30:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:24:00 ~ 2025-11-04 22:30:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:24:00
  현재 날짜: 2025-11-04 22:30:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:30:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:30:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:27:00 ~ 2025-11-04 22:30:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:27:00 ~ 2025-11-04 22:30:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:27:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:30:00
  [현재 캔들 시간] 2025-11-04 22:27:00
기존 파일 발견: 11개 데이터
새로운 데이터: 1개
병합 후: 11개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 11개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:27:00
수집 완료: 361개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
백테스트 대상: 361개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:30:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:27:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:30:00
  [현재 캔들 시간] 2025-11-04 22:27:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:42:00 ~ 2025-11-04 22:27:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:42:00 ~ 2025-11-04 22:27:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 0회
  조건 E 만족 (양봉): 0회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 11회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 26회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 26회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 6회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1717개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1717개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:30:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1717개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:30:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:27:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:27:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,865 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,865 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,865 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 360개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 360개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 360개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:27:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:27:00
현재 시간: 2025-11-04 22:33:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:27:00 ~ 2025-11-04 22:33:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:27:00
  현재 날짜: 2025-11-04 22:33:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:33:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:00:00 ~ 2025-11-04 22:33:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:30:00 ~ 2025-11-04 22:33:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:30:00 ~ 2025-11-04 22:33:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:33:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:30:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:33:00
  [현재 캔들 시간] 2025-11-04 22:30:00
기존 파일 발견: 11개 데이터
새로운 데이터: 1개
병합 후: 12개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 12개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:30:00
수집 완료: 362개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
백테스트 대상: 362개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:33:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:30:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:33:00
  [현재 캔들 시간] 2025-11-04 22:30:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:45:00 ~ 2025-11-04 22:30:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:45:00 ~ 2025-11-04 22:30:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 0회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 10회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 25회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 26회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 5회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1727개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1727개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:33:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1727개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:33:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:30:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:30:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,693 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,693 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,693 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 361개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 361개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 361개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:30:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:30:00
현재 시간: 2025-11-04 22:36:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:30:00 ~ 2025-11-04 22:36:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:30:00
  현재 날짜: 2025-11-04 22:36:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:36:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:03:00 ~ 2025-11-04 22:36:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:33:00 ~ 2025-11-04 22:36:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:33:00 ~ 2025-11-04 22:36:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:36:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:33:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:36:00
  [현재 캔들 시간] 2025-11-04 22:33:00
기존 파일 발견: 12개 데이터
새로운 데이터: 1개
병합 후: 13개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 13개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:33:00
수집 완료: 363개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
백테스트 대상: 363개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:36:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:33:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:36:00
  [현재 캔들 시간] 2025-11-04 22:33:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:48:00 ~ 2025-11-04 22:33:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:48:00 ~ 2025-11-04 22:33:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 14회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 28회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 27회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 8회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1737개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1737개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:36:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1737개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:36:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:33:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:33:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,378 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,378 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:33:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,378 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 363개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 363개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 363개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:36:00
현재 시간: 2025-11-04 22:39:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:36:00 ~ 2025-11-04 22:39:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:36:00
  현재 날짜: 2025-11-04 22:39:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:39:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 22:09:00 ~ 2025-11-04 22:39:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:39:00 ~ 2025-11-04 22:39:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:39:00 ~ 2025-11-04 22:39:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:39:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:36:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:39:00
저장할 데이터가 없습니다.
수집 완료: 364개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
백테스트 대상: 364개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:39:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:36:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:39:00
  [현재 캔들 시간] 2025-11-04 22:36:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:51:00 ~ 2025-11-04 22:36:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:51:00 ~ 2025-11-04 22:36:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 14회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 29회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 28회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 8회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1747개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1747개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:39:11 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1747개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:39:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:36:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:36:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,900 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,900 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,900 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음INFO:     116.37.80.183:43502 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:43456 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:43476 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:43492 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:43466 - "GET /api/results HTTP/1.1" 200 OK
대기 시간: 0시간 0분 57초 남음INFO:     116.37.80.183:43492 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:43456 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:43466 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:43476 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:43488 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:43510 - "GET /api/images/today HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:43466 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:43488 - "GET /api/images/balance_history?t=1762263672849 HTTP/1.1" 404 Not Found
INFO:     116.37.80.183:43476 - "GET /api/images/today?t=1762263672849 HTTP/1.1" 200 OK
대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음INFO:     116.37.80.183:38536 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음INFO:     116.37.80.183:38526 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:38532 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:38548 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:38534 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:38534 - "GET /api/images/today?t=1762263687940 HTTP/1.1" 200 OK
대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 364개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 364개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 364개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:39:00
현재 시간: 2025-11-04 22:42:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:39:00 ~ 2025-11-04 22:42:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:39:00
  현재 날짜: 2025-11-04 22:42:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:42:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:42:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:42:00 ~ 2025-11-04 22:42:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:42:00 ~ 2025-11-04 22:42:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:42:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:39:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:42:00
저장할 데이터가 없습니다.
수집 완료: 365개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
백테스트 대상: 365개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:42:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:39:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:42:00
  [현재 캔들 시간] 2025-11-04 22:39:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:54:00 ~ 2025-11-04 22:39:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:54:00 ~ 2025-11-04 22:39:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 13회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 30회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 29회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 8회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1757개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1757개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:42:11 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1757개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:42:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:39:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:39:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,494 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,494 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,494 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 364개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 364개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 365개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:42:00
현재 시간: 2025-11-04 22:45:11

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:42:00 ~ 2025-11-04 22:45:11

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:42:00
  현재 날짜: 2025-11-04 22:45:11
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:45:11
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 22:15:00 ~ 2025-11-04 22:45:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:45:00 ~ 2025-11-04 22:45:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:45:00 ~ 2025-11-04 22:45:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:45:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:42:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:45:00
저장할 데이터가 없습니다.
수집 완료: 366개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
백테스트 대상: 366개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:45:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:42:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:45:00
  [현재 캔들 시간] 2025-11-04 22:42:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:57:00 ~ 2025-11-04 22:42:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:57:00 ~ 2025-11-04 22:42:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 9회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 30회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 29회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 5회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1767개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1767개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:45:11 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1767개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:45:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:42:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:42:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,661 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,661 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,661 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 365개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 365개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 365개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:42:00
현재 시간: 2025-11-04 22:48:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:42:00 ~ 2025-11-04 22:48:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:42:00
  현재 날짜: 2025-11-04 22:48:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:48:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:15:00 ~ 2025-11-04 22:48:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:45:00 ~ 2025-11-04 22:48:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:45:00 ~ 2025-11-04 22:48:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:45:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:48:00
  [현재 캔들 시간] 2025-11-04 22:45:00
기존 파일 발견: 16개 데이터
새로운 데이터: 1개
병합 후: 17개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 17개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:45:00
수집 완료: 367개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
백테스트 대상: 367개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:45:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:48:00
  [현재 캔들 시간] 2025-11-04 22:45:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 20:00:00 ~ 2025-11-04 22:45:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 20:00:00 ~ 2025-11-04 22:45:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 0회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 9회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 30회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 28회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 5회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1777개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1777개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:48:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1777개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:48:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:45:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:45:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,919 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,919 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,919 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,087원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,087원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:42418 - "GET /api/images/balance_history?t=1762263992709 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 363개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 363개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 363개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:36:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:36:00
현재 시간: 2025-11-04 22:42:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:36:00 ~ 2025-11-04 22:42:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:36:00
  현재 날짜: 2025-11-04 22:42:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:42:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:09:00 ~ 2025-11-04 22:42:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:39:00 ~ 2025-11-04 22:42:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:39:00 ~ 2025-11-04 22:42:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:42:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:39:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:42:00
  [현재 캔들 시간] 2025-11-04 22:39:00
기존 파일 발견: 14개 데이터
새로운 데이터: 1개
병합 후: 15개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 15개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:39:00
수집 완료: 365개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
백테스트 대상: 365개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:42:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:39:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:42:00
  [현재 캔들 시간] 2025-11-04 22:39:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:54:00 ~ 2025-11-04 22:39:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:54:00 ~ 2025-11-04 22:39:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 364개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 364개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 364개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:39:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:39:00
현재 시간: 2025-11-04 22:45:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:39:00 ~ 2025-11-04 22:45:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:39:00
  현재 날짜: 2025-11-04 22:45:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:45:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:12:00 ~ 2025-11-04 22:45:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:42:00 ~ 2025-11-04 22:45:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:42:00 ~ 2025-11-04 22:45:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:45:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:42:11
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:45:00
  [현재 캔들 시간] 2025-11-04 22:42:00
기존 파일 발견: 15개 데이터
새로운 데이터: 1개
병합 후: 16개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 16개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:42:00
수집 완료: 366개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
백테스트 대상: 366개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:45:11
  cutoff 시간 (현재 - 3m): 2025-11-04 22:42:11
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:45:00
  [현재 캔들 시간] 2025-11-04 22:42:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 19:57:00 ~ 2025-11-04 22:42:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 19:57:00 ~ 2025-11-04 22:42:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 365개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 365개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 365개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:42:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:42:00
현재 시간: 2025-11-04 22:48:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:42:00 ~ 2025-11-04 22:48:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:42:00
  현재 날짜: 2025-11-04 22:48:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:48:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:15:00 ~ 2025-11-04 22:48:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:45:00 ~ 2025-11-04 22:48:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:45:00 ~ 2025-11-04 22:48:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:45:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:48:00
  [현재 캔들 시간] 2025-11-04 22:45:00
기존 파일 발견: 17개 데이터
새로운 데이터: 1개
병합 후: 17개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 17개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:45:00
수집 완료: 367개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
백테스트 대상: 367개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:48:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:45:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:48:00
  [현재 캔들 시간] 2025-11-04 22:45:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 20:00:00 ~ 2025-11-04 22:45:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 20:00:00 ~ 2025-11-04 22:45:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음INFO:     116.37.80.183:42428 - "GET /api/images/3days?t=1762264216768 HTTP/1.1" 200 OK
INFO:     116.37.80.183:42410 - "GET /api/images/today?t=1762264216768 HTTP/1.1" 200 OK
INFO:     116.37.80.183:42418 - "GET /api/images/5days?t=1762264216768 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:42428 - "GET /api/images/balance_history?t=1762264216768 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 51초 남음INFO:     116.37.80.183:42428 - "GET / HTTP/1.1" 200 OK
INFO:     116.37.80.183:42428 - "GET /api/images/today HTTP/1.1" 200 OK
대기 시간: 0시간 0분 51초 남음INFO:     116.37.80.183:42418 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:42410 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:42442 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:42458 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:42470 - "GET /api/assets_history HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:42418 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     116.37.80.183:42458 - "GET /api/images/today?t=1762264218649 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:42470 - "GET /api/images/balance_history?t=1762264218649 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음INFO:     116.37.80.183:44970 - "GET / HTTP/1.1" 200 OK
INFO:     116.37.80.183:44970 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음INFO:     116.37.80.183:44974 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:44990 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:45006 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:44986 - "GET /api/results HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:45008 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     116.37.80.183:45006 - "GET /api/images/today?t=1762264229609 HTTP/1.1" 200 OK
대기 시간: 0시간 0분 39초 남음조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:45006 - "GET /api/images/balance_history?t=1762264229609 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 367개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 367개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 367개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:48:00
현재 시간: 2025-11-04 22:51:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:48:00 ~ 2025-11-04 22:51:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:48:00
  현재 날짜: 2025-11-04 22:51:10
  필요 캔들 개수: 1개, 조회할 개수: 11개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=11, to=2025-11-04T22:51:10
  성공: BTC 3m 데이터 11개 수집 완료
  기간: 2025-11-04 22:21:00 ~ 2025-11-04 22:51:00
  조회 완료: 11개 데이터 조회, 필터링 후: 1개 (필요개수: 1개)
  기간: 2025-11-04 22:51:00 ~ 2025-11-04 22:51:00
새로운 데이터 1개 추가됨
  기간: 2025-11-04 22:51:00 ~ 2025-11-04 22:51:00
미래 캔들 필터링: 1개 → 0개 (제외: 1개)
  현재 시간: 2025-11-04 22:51:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:48:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:51:00
저장할 데이터가 없습니다.
수집 완료: 368개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:51:00
백테스트 대상: 368개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:51:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:51:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:48:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:51:00
  [현재 캔들 시간] 2025-11-04 22:48:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 20:03:00 ~ 2025-11-04 22:48:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 20:03:00 ~ 2025-11-04 22:48:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음INFO:     116.37.80.183:10179 - "GET / HTTP/1.1" 200 OK
대기 시간: 0시간 2분 55초 남음INFO:     116.37.80.183:9941 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:10285 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 366개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 366개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 366개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:45:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:45:00
현재 시간: 2025-11-04 22:51:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:45:00 ~ 2025-11-04 22:51:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:45:00
  현재 날짜: 2025-11-04 22:51:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:51:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:18:00 ~ 2025-11-04 22:51:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:48:00 ~ 2025-11-04 22:51:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:48:00 ~ 2025-11-04 22:51:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:51:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:48:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:51:00
  [현재 캔들 시간] 2025-11-04 22:48:00
기존 파일 발견: 17개 데이터
새로운 데이터: 1개
병합 후: 18개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 18개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:48:00
수집 완료: 368개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:51:00
백테스트 대상: 368개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:51:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:51:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:48:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:51:00
  [현재 캔들 시간] 2025-11-04 22:48:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 20:03:00 ~ 2025-11-04 22:48:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 20:03:00 ~ 2025-11-04 22:48:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 0회
  조건 E 만족 (양봉): 0회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 10회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 29회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 27회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 6회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1787개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1787개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:51:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1787개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:51:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:48:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:48:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 148,907 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
INFO:     116.37.80.183:5647 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:9844 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:4191 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:7140 - "GET /api/images/today HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:10484 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     116.37.80.183:7338 - "GET /favicon.ico HTTP/1.1" 404 Not Found
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:7338 - "GET /api/images/balance_history?t=1762264273294 HTTP/1.1" 404 Not Found
INFO:     116.37.80.183:10484 - "GET /api/images/today?t=1762264273294 HTTP/1.1" 200 OK
대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음INFO:     116.37.80.183:7338 - "GET /api/images/3days?t=1762264273294 HTTP/1.1" 200 OK
대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음INFO:     116.37.80.183:5000 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:13863 - "GET /api/balance HTTP/1.1" 200 OK
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 148,907 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 148,907 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,089원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,089원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,089원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,089원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음INFO:     116.37.80.183:6018 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:6932 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:6504 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:13863 - "GET /api/images/today?t=1762264288301 HTTP/1.1" 200 OK
INFO:     116.37.80.183:6504 - "GET /api/images/3days?t=1762264288301 HTTP/1.1" 200 OK
INFO:     116.37.80.183:6018 - "GET /api/images/5days?t=1762264288301 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:13863 - "GET /api/images/balance_history?t=1762264288301 HTTP/1.1" 404 Not Found
대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음INFO:     116.37.80.183:13006 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음INFO:     116.37.80.183:12921 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:10060 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:6589 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:8511 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:13006 - "GET /api/images/today?t=1762264303295 HTTP/1.1" 200 OK
INFO:     116.37.80.183:8511 - "GET /api/images/3days?t=1762264303295 HTTP/1.1" 200 OK
INFO:     116.37.80.183:6589 - "GET /api/images/5days?t=1762264303295 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:13006 - "GET /api/images/balance_history?t=1762264303295 HTTP/1.1" 404 Not Found
대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음INFO:     116.37.80.183:2329 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음INFO:     116.37.80.183:6003 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:6426 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:1666 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:10820 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:2329 - "GET /api/images/3days?t=1762264318332 HTTP/1.1" 200 OK
INFO:     116.37.80.183:6426 - "GET /api/images/today?t=1762264318332 HTTP/1.1" 200 OK
INFO:     116.37.80.183:10820 - "GET /api/images/5days?t=1762264318332 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:2329 - "GET /api/images/balance_history?t=1762264318332 HTTP/1.1" 404 Not Found
대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음INFO:     116.37.80.183:6232 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:13348 - "GET /api/assets_history HTTP/1.1" 200 OK
대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음INFO:     116.37.80.183:8878 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:1982 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:12881 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:8878 - "GET /api/images/5days?t=1762264333157 HTTP/1.1" 200 OK
INFO:     116.37.80.183:13348 - "GET /api/images/3days?t=1762264333157 HTTP/1.1" 200 OK
INFO:     116.37.80.183:6232 - "GET /api/images/today?t=1762264333157 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:1982 - "GET /api/images/balance_history?t=1762264333157 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음INFO:     116.37.80.183:2568 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음INFO:     116.37.80.183:2544 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:5999 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:9374 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:5942 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:2568 - "GET /api/images/today?t=1762264348503 HTTP/1.1" 200 OK
INFO:     116.37.80.183:9374 - "GET /api/images/5days?t=1762264348503 HTTP/1.1" 200 OK
INFO:     116.37.80.183:5942 - "GET /api/images/3days?t=1762264348503 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:9374 - "GET /api/images/balance_history?t=1762264348503 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음INFO:     116.37.80.183:8168 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음INFO:     116.37.80.183:11276 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:10975 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:14935 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:14481 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:8168 - "GET /api/images/3days?t=1762264363303 HTTP/1.1" 200 OK
INFO:     116.37.80.183:14481 - "GET /api/images/5days?t=1762264363303 HTTP/1.1" 200 OK
INFO:     116.37.80.183:10975 - "GET /api/images/today?t=1762264363303 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:8168 - "GET /api/images/balance_history?t=1762264363303 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음INFO:     116.37.80.183:13174 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:8895 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음대기 시간: 0시간 1분 17초 남음대기 시간: 0시간 1분 16초 남음대기 시간: 0시간 1분 15초 남음대기 시간: 0시간 1분 14초 남음대기 시간: 0시간 1분 13초 남음대기 시간: 0시간 1분 12초 남음대기 시간: 0시간 1분 11초 남음대기 시간: 0시간 1분 10초 남음INFO:     116.37.80.183:6534 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:12755 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:1919 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:8895 - "GET /api/images/today?t=1762264378602 HTTP/1.1" 200 OK
INFO:     116.37.80.183:1919 - "GET /api/images/3days?t=1762264378602 HTTP/1.1" 200 OK
INFO:     116.37.80.183:12755 - "GET /api/images/5days?t=1762264378602 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:8895 - "GET /api/images/balance_history?t=1762264378602 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음INFO:     116.37.80.183:4985 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 1분 9초 남음대기 시간: 0시간 1분 8초 남음대기 시간: 0시간 1분 7초 남음대기 시간: 0시간 1분 6초 남음대기 시간: 0시간 1분 5초 남음대기 시간: 0시간 1분 4초 남음대기 시간: 0시간 1분 3초 남음대기 시간: 0시간 1분 2초 남음대기 시간: 0시간 1분 1초 남음대기 시간: 0시간 1분 0초 남음대기 시간: 0시간 0분 59초 남음대기 시간: 0시간 0분 58초 남음대기 시간: 0시간 0분 57초 남음대기 시간: 0시간 0분 56초 남음대기 시간: 0시간 0분 55초 남음INFO:     116.37.80.183:5684 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:11465 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:8949 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:3491 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:4985 - "GET /api/images/today?t=1762264393298 HTTP/1.1" 200 OK
INFO:     116.37.80.183:5684 - "GET /api/images/3days?t=1762264393298 HTTP/1.1" 200 OK
INFO:     116.37.80.183:3491 - "GET /api/images/5days?t=1762264393298 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:4985 - "GET /api/images/balance_history?t=1762264393298 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음INFO:     116.37.80.183:2776 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 0분 54초 남음대기 시간: 0시간 0분 53초 남음대기 시간: 0시간 0분 52초 남음대기 시간: 0시간 0분 51초 남음대기 시간: 0시간 0분 50초 남음대기 시간: 0시간 0분 49초 남음대기 시간: 0시간 0분 48초 남음대기 시간: 0시간 0분 47초 남음대기 시간: 0시간 0분 46초 남음대기 시간: 0시간 0분 45초 남음대기 시간: 0시간 0분 44초 남음대기 시간: 0시간 0분 43초 남음대기 시간: 0시간 0분 42초 남음대기 시간: 0시간 0분 41초 남음대기 시간: 0시간 0분 40초 남음INFO:     116.37.80.183:6724 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:3673 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:9122 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:2362 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:6724 - "GET /api/images/today?t=1762264408405 HTTP/1.1" 200 OK
INFO:     116.37.80.183:3673 - "GET /api/images/5days?t=1762264408405 HTTP/1.1" 200 OK
INFO:     116.37.80.183:2362 - "GET /api/images/3days?t=1762264408405 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:6724 - "GET /api/images/balance_history?t=1762264408405 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음INFO:     116.37.80.183:5642 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 0분 39초 남음대기 시간: 0시간 0분 38초 남음대기 시간: 0시간 0분 37초 남음대기 시간: 0시간 0분 36초 남음대기 시간: 0시간 0분 35초 남음대기 시간: 0시간 0분 34초 남음대기 시간: 0시간 0분 33초 남음대기 시간: 0시간 0분 32초 남음대기 시간: 0시간 0분 31초 남음대기 시간: 0시간 0분 30초 남음대기 시간: 0시간 0분 29초 남음대기 시간: 0시간 0분 28초 남음대기 시간: 0시간 0분 27초 남음대기 시간: 0시간 0분 26초 남음대기 시간: 0시간 0분 25초 남음INFO:     116.37.80.183:12735 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:13767 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:7055 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:9958 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:9958 - "GET /api/images/3days?t=1762264423464 HTTP/1.1" 200 OK
INFO:     116.37.80.183:13767 - "GET /api/images/5days?t=1762264423464 HTTP/1.1" 200 OK
INFO:     116.37.80.183:5642 - "GET /api/images/today?t=1762264423464 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:13767 - "GET /api/images/balance_history?t=1762264423464 HTTP/1.1" 404 Not Found
대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 367개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 367개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 367개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:48:00
현재 시간: 2025-11-04 22:54:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:48:00 ~ 2025-11-04 22:54:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:48:00
  현재 날짜: 2025-11-04 22:54:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:54:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:21:00 ~ 2025-11-04 22:54:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:51:00 ~ 2025-11-04 22:54:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:51:00 ~ 2025-11-04 22:54:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:51:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:54:00
  [현재 캔들 시간] 2025-11-04 22:51:00
기존 파일 발견: 19개 데이터
새로운 데이터: 1개
병합 후: 19개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 19개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:51:00
수집 완료: 369개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:54:00
백테스트 대상: 369개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:54:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:51:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:54:00
  [현재 캔들 시간] 2025-11-04 22:51:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 20:06:00 ~ 2025-11-04 22:51:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 보유 중
  매수 가격: 정보 없음
  매수 조건 확인 날짜: 정보 없음
  매수 실행 날짜: 정보 없음

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 20:06:00 ~ 2025-11-04 22:51:00
err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

err Traceback (most recent call last):
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 886, in run_server_mode
    testresult = main(
        start_date=start_date,
    ...<12 lines>...
        saved_state=saved_state
    )
  File "/home/jay/workspace/python/2025/coinauto/qqc_main.py", line 323, in main
    result = qqc_engine.run(df_for_backtest)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 696, in run
    result = self.add_candle(candle_data)
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 217, in add_candle
    result = self._check_sell_conditions(candle, current_candle_index, getattr(self, '_current_absolute_index', None))
  File "/home/jay/workspace/python/2025/coinauto/qqc_test.py", line 477, in _check_sell_conditions
    current_return = ((candle['close'] - self._buy_price) / self._buy_price) * 100
                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
ZeroDivisionError: division by zero

대기 시간: 0시간 2분 58초 남음대기 시간: 0시간 2분 57초 남음대기 시간: 0시간 2분 56초 남음대기 시간: 0시간 2분 55초 남음대기 시간: 0시간 2분 54초 남음대기 시간: 0시간 2분 53초 남음대기 시간: 0시간 2분 52초 남음대기 시간: 0시간 2분 51초 남음대기 시간: 0시간 2분 50초 남음대기 시간: 0시간 2분 49초 남음대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음INFO:     116.37.80.183:12200 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 0분 24초 남음대기 시간: 0시간 0분 23초 남음대기 시간: 0시간 0분 22초 남음대기 시간: 0시간 0분 21초 남음대기 시간: 0시간 0분 20초 남음대기 시간: 0시간 0분 19초 남음대기 시간: 0시간 0분 18초 남음대기 시간: 0시간 0분 17초 남음대기 시간: 0시간 0분 16초 남음대기 시간: 0시간 0분 15초 남음대기 시간: 0시간 0분 14초 남음대기 시간: 0시간 0분 13초 남음대기 시간: 0시간 0분 12초 남음대기 시간: 0시간 0분 11초 남음대기 시간: 0시간 0분 10초 남음대기 시간: 0시간 3분 9초 남음대기 시간: 0시간 0분 9초 남음대기 시간: 0시간 0분 8초 남음대기 시간: 0시간 0분 7초 남음대기 시간: 0시간 0분 6초 남음대기 시간: 0시간 0분 5초 남음대기 시간: 0시간 0분 4초 남음대기 시간: 0시간 0분 3초 남음대기 시간: 0시간 0분 2초 남음대기 시간: 0시간 0분 1초 남음대기 시간: 0시간 0분 0초 남음================================================================================
QQC 백테스트 시작
================================================================================

시작 날짜가 지정되지 않음. 데이터에서 첫 번째 날짜를 확인합니다.

[단계 0] 백테스트 조건 확인 중...
조건 로드 완료: ./backtest_conditions.json
  조건 변경 없음. 기존 조건 파일 사용
조건 저장 완료: ./backtest_conditions.json

[단계 1-0] 기존 데이터 존재 여부 확인 중...
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 367개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  로드된 파일 수: 19개

데이터에서 첫 번째 날짜 확인 중...
저장된 데이터에서 첫 번째 날짜 확인: 2025-11-04
백테스트 기간: 2025-11-04 ~ (마지막)
  ✓ 기존 데이터 발견: 367개 데이터
  기존 데이터 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  → 증분 업데이트 후 마지막 56개만 백테스트 실행 예정

[단계 1] 데이터 수집 중...

================================================================================
기록 데이터 업데이트 검사
================================================================================
날짜별 폴더에서 시간별 분할 파일을 검색합니다...
기록 파일 로드 완료 (시간별 분할 파일 병합): 367개 데이터
  기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:48:00
  로드된 파일 수: 19개
기존 기록 마지막 시간: 2025-11-04 22:48:00
현재 시간: 2025-11-04 22:54:10

최근 3000개 데이터 누락 확인 중...
  최근 3000개 데이터에 누락 없음

누락된 시간부터 다운로드: 2025-11-04 22:48:00 ~ 2025-11-04 22:54:10

최신 데이터 다운로드 중... (마지막 기록 이후만 사용)
[make_history] 효율적 데이터 수집 모드 (requests 직접 호출, from_date 사용)
  기존 기록 마지막 날짜: 2025-11-04 22:48:00
  현재 날짜: 2025-11-04 22:54:10
  필요 캔들 개수: 2개, 조회할 개수: 12개 (필요개수 + 10개)
  [collect_candles_with_params] API 직접 호출
    URL: https://api.bithumb.com/v1/candles/minutes/3
    Parameters: market=KRW-BTC, count=12, to=2025-11-04T22:54:10
  성공: BTC 3m 데이터 12개 수집 완료
  기간: 2025-11-04 22:21:00 ~ 2025-11-04 22:54:00
  조회 완료: 12개 데이터 조회, 필터링 후: 2개 (필요개수: 2개)
  기간: 2025-11-04 22:51:00 ~ 2025-11-04 22:54:00
새로운 데이터 2개 추가됨
  기간: 2025-11-04 22:51:00 ~ 2025-11-04 22:54:00
미래 캔들 필터링: 2개 → 1개 (제외: 1개)
  현재 시간: 2025-11-04 22:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:51:10
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:54:00
  [현재 캔들 시간] 2025-11-04 22:51:00
기존 파일 발견: 18개 데이터
새로운 데이터: 1개
병합 후: 19개 데이터
기록 파일 저장 완료 (실시간 업데이트, 기존 데이터 병합): ./datas/2025-11-04/history_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m_20251104_22.csv
  총 19개 데이터
  기간: 2025-11-04 21:57:00 ~ 2025-11-04 22:51:00
수집 완료: 369개 데이터
전체 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:54:00
백테스트 대상: 369개 데이터 (제외: 0개)
백테스트 기간: 2025-11-04 04:30:00 ~ 2025-11-04 22:54:00

[백테스트 데이터 선택]
  is_full_backtest 플래그: False
  현재 시간: 2025-11-04 22:54:10
  cutoff 시간 (현재 - 3m): 2025-11-04 22:51:10
  미래 캔들 제외: 1개 제외됨
  [버려진 미래 캔들 시간]
    - 2025-11-04 22:54:00
  [현재 캔들 시간] 2025-11-04 22:51:00
  → 부분 백테스트 모드: 완료된 캔들 중 마지막 56개만 백테스트 실행
  백테스트 실행 데이터: 56개 사용
  백테스트 실행 기간: 2025-11-04 20:06:00 ~ 2025-11-04 22:51:00
    - 과거 평균용: 55개
    - 현재 캔들: 1개

[저장된 상태 복원]
  코인 보유 상태: 미보유

[단계 2] QQC 백테스트 실행 중...
초기 자본: 26,944원
거래 가격 슬리퍼지: 1,000원
매수 조건:
  - 코인 보유 == False (중복 매수 방지)
  - 조건 B: 현재 거래량 >= 거래량 A (55개 평균) * 1.4
  - 조건 D: 현재 종가 > 이동평균 C (9개 평균)
  - 조건 E: 양봉 (오픈가 < 종가)
  - 매수 가격: 다음 오픈가 + 1,000원
  - 매수 비율: 현금의 90%
매도 조건:
  - 수익률 >= 17.6%: 이익실현
  - 수익률 <= -28.6%: 손절
  - 매수 후 15 캔들 경과: 무조건 매도 (n+15 캔들의 오픈가)

[백테스트 실행] 실제 사용 데이터: 56개
  실행 기간: 2025-11-04 20:06:00 ~ 2025-11-04 22:51:00

[디버깅] 매수 조건 확인 통계:
  총 캔들 수: 56개
  매수 조건 확인 가능한 캔들: 1개 (최소 56개 필요, 보유하지 않은 경우만)
  조건 B 만족 (거래량 >= 평균 * 1.4): 0회 (백테스트 조건 확인 가능 범위 내, 보유하지 않은 경우만)
  조건 D 만족 (종가 > 이동평균): 1회
  조건 E 만족 (양봉): 1회
  모든 조건 만족 (B & D & E): 0회
  조건 B 확인 가능한 캔들 (모든 상태): 55개
  조건 B 만족 (거래량 >= 평균 * 1.4): 10회 (모든 캔들 기준, 그래프와 동일)
  조건 D 만족 (종가 > 이동평균): 29회 (모든 캔들 기준, 그래프와 동일)
  조건 E 만족 (양봉): 27회 (모든 캔들 기준, 그래프와 동일)
  모든 조건 만족 (B & D & E): 6회 (모든 캔들 기준, 그래프와 동일)
  실제 매수 발생: 0회

[단계 3] 백테스트 결과 출력 중...

================================================================================
백테스트 결과
================================================================================
초기 자본: 26,944원
최종 자산: 26,944원 (백테스트 종료 시점의 자산 평가)
총 수익률: +0.00%

총 거래 횟수: 0회
매수 횟수: 0회
매도 횟수: 0회

거래 내역:
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
총 수익: 0원
수익 거래: 0회
손실 거래: 0회

거래 간격 분석:
  거래가 1회 이하여서 간격을 계산할 수 없습니다.
================================================================================

[단계 4-1] 기존 백테스트 결과 로드 중...
날짜별 폴더에서 백테스트 결과 시간별 분할 파일을 검색합니다...
백테스트 결과 로드 완료 (시간별 분할 파일 병합): 1797개 기록
  로드된 파일 수: 10개
  과거 백테스트 결과에서 1797개 거래 기록 추출 (과거 1일 이내만)
  과거 거래 기간: 2025-11-04 07:42:00 ~ 2025-11-04 21:03:00
  Trade History 제한: 2025-11-03 22:54:10 이후만 표시
  병합 완료: 총 10개 거래 (현재: 0개, 과거: 1797개)
  매수 5개, 매도 5개

[단계 4-2] 기간별 백테스트 결과 그래프 생성 중...
한글 폰트 설정 완료: Malgun Gothic
  현재 시간: 2025-11-04 22:54:11
  그래프 마지막 시간 (현재 - 3m): 2025-11-04 22:51:11
  그래프에 표시될 마지막 캔들: 2025-11-04 22:51:00
  → 3일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:51:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_3days.jpg (크기: 149,448 bytes)
  ✓ 3일 그래프 생성 완료: ./images/backtest_result_3days.jpg
  → 5일 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:51:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_5days.jpg (크기: 149,448 bytes)
  ✓ 5일 그래프 생성 완료: ./images/backtest_result_5days.jpg
  → 오늘 그래프 생성 중...
  [그래프] 이동평균 실시간 계산 (CSV에 저장되지 않음)
  거래 데이터 확인: 10개 거래
  그래프 데이터 범위: 2025-11-04 04:30:00 ~ 2025-11-04 22:51:00
  매수: 5개, 이익실현: 0개, 손절: 0개, 기간 만료: 5개
  [그래프] 거래량 평균 실시간 계산 (CSV에 저장되지 않음)
  그래프 저장 완료: ./images/backtest_result_today.jpg (크기: 149,448 bytes)
  ✓ 오늘 그래프 생성 완료: ./images/backtest_result_today.jpg

모든 그래프 생성 완료 (3개)

[단계 5] 백테스트 결과 저장 중...
  증분 백테스트 결과를 저장합니다.
  저장 대상 데이터: 백테스트에 사용된 56개 데이터

백테스트 결과 저장 완료 (날짜별/시간별 분할): 10개 파일 생성
  총 10개 거래 기록

QQC 백테스트 완료!

백테스트 결과 상태: none
최종 코인 보유 상태: 미보유

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,089원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,089원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000

[잔고 조회 디버깅] ticker=BTC
  KRW 전체 잔고: 26,089원
  KRW 주문 중: 0원
  KRW 주문 가능: 26,089원
  BTC 전체 잔고: 0.00000000
  BTC 주문 중: 0.00000000
  BTC 주문 가능: 0.00000000
대기 시간: 0시간 2분 48초 남음대기 시간: 0시간 2분 47초 남음대기 시간: 0시간 2분 46초 남음대기 시간: 0시간 2분 45초 남음대기 시간: 0시간 2분 44초 남음대기 시간: 0시간 2분 43초 남음대기 시간: 0시간 2분 42초 남음대기 시간: 0시간 2분 41초 남음대기 시간: 0시간 2분 40초 남음대기 시간: 0시간 2분 39초 남음대기 시간: 0시간 2분 38초 남음대기 시간: 0시간 2분 37초 남음대기 시간: 0시간 2분 36초 남음대기 시간: 0시간 2분 35초 남음대기 시간: 0시간 2분 34초 남음대기 시간: 0시간 2분 33초 남음INFO:     116.37.80.183:3685 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:4191 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:5491 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:10628 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:3685 - "GET /api/images/today?t=1762264475301 HTTP/1.1" 200 OK
INFO:     116.37.80.183:10628 - "GET /api/images/3days?t=1762264475301 HTTP/1.1" 200 OK
INFO:     116.37.80.183:5491 - "GET /api/images/5days?t=1762264475301 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:10628 - "GET /api/images/balance_history?t=1762264475301 HTTP/1.1" 404 Not Found
대기 시간: 0시간 2분 33초 남음대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음INFO:     116.37.80.183:6592 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:12903 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 2분 32초 남음대기 시간: 0시간 2분 31초 남음대기 시간: 0시간 2분 30초 남음대기 시간: 0시간 2분 29초 남음대기 시간: 0시간 2분 28초 남음대기 시간: 0시간 2분 27초 남음대기 시간: 0시간 2분 26초 남음대기 시간: 0시간 2분 25초 남음대기 시간: 0시간 2분 24초 남음대기 시간: 0시간 2분 23초 남음대기 시간: 0시간 2분 22초 남음대기 시간: 0시간 2분 21초 남음대기 시간: 0시간 2분 20초 남음대기 시간: 0시간 2분 19초 남음대기 시간: 0시간 2분 18초 남음대기 시간: 0시간 2분 17초 남음대기 시간: 0시간 2분 16초 남음대기 시간: 0시간 2분 15초 남음대기 시간: 0시간 2분 14초 남음대기 시간: 0시간 2분 13초 남음대기 시간: 0시간 2분 12초 남음대기 시간: 0시간 2분 11초 남음대기 시간: 0시간 2분 10초 남음대기 시간: 0시간 2분 9초 남음대기 시간: 0시간 2분 8초 남음대기 시간: 0시간 2분 7초 남음대기 시간: 0시간 2분 6초 남음대기 시간: 0시간 2분 5초 남음대기 시간: 0시간 2분 4초 남음대기 시간: 0시간 2분 3초 남음대기 시간: 0시간 2분 2초 남음대기 시간: 0시간 2분 1초 남음대기 시간: 0시간 2분 0초 남음대기 시간: 0시간 1분 59초 남음대기 시간: 0시간 1분 58초 남음대기 시간: 0시간 1분 57초 남음대기 시간: 0시간 1분 56초 남음대기 시간: 0시간 1분 55초 남음대기 시간: 0시간 1분 54초 남음대기 시간: 0시간 1분 53초 남음대기 시간: 0시간 1분 52초 남음대기 시간: 0시간 1분 51초 남음대기 시간: 0시간 1분 50초 남음대기 시간: 0시간 1분 49초 남음INFO:     116.37.80.183:9684 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:4192 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:8534 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:4192 - "GET /api/images/5days?t=1762264518956 HTTP/1.1" 200 OK
INFO:     116.37.80.183:12903 - "GET /api/images/today?t=1762264518956 HTTP/1.1" 200 OK
INFO:     116.37.80.183:8534 - "GET /api/images/3days?t=1762264518956 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:9684 - "GET /api/images/balance_history?t=1762264518956 HTTP/1.1" 404 Not Found
INFO:     116.37.80.183:4192 - "GET / HTTP/1.1" 200 OK
대기 시간: 0시간 1분 48초 남음INFO:     116.37.80.183:9684 - "GET /api/images/today HTTP/1.1" 200 OK
대기 시간: 0시간 1분 49초 남음INFO:     116.37.80.183:6592 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:4192 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:8534 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:12903 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:12916 - "GET /api/assets_history HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:6592 - "GET /api/images/balance_history HTTP/1.1" 404 Not Found
INFO:     116.37.80.183:4192 - "GET /api/images/today?t=1762264519755 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:6592 - "GET /api/images/balance_history?t=1762264519755 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음대기 시간: 0시간 1분 33초 남음INFO:     116.37.80.183:2196 - "GET /api/status HTTP/1.1" 200 OK
대기 시간: 0시간 1분 48초 남음대기 시간: 0시간 1분 47초 남음대기 시간: 0시간 1분 46초 남음대기 시간: 0시간 1분 45초 남음대기 시간: 0시간 1분 44초 남음대기 시간: 0시간 1분 43초 남음대기 시간: 0시간 1분 42초 남음대기 시간: 0시간 1분 41초 남음대기 시간: 0시간 1분 40초 남음대기 시간: 0시간 1분 39초 남음대기 시간: 0시간 1분 38초 남음대기 시간: 0시간 1분 37초 남음대기 시간: 0시간 1분 36초 남음대기 시간: 0시간 1분 35초 남음대기 시간: 0시간 1분 34초 남음INFO:     116.37.80.183:8815 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:9152 - "GET /api/results HTTP/1.1" 200 OK
INFO:     116.37.80.183:13496 - "GET /api/assets_history HTTP/1.1" 200 OK
INFO:     116.37.80.183:3311 - "GET /api/balance HTTP/1.1" 200 OK
INFO:     116.37.80.183:2196 - "GET /api/images/today?t=1762264534775 HTTP/1.1" 200 OK
조건 로드 완료: ./backtest_conditions.json
한글 폰트 설정 완료: Malgun Gothic
백테스트 결과 파일이 없습니다: ./datas/backtest_results_vw55_mw9_vm1.4_bcr0.9_hp15_pt17.6_sl-28.6_slip1000_btc_3m.csv
잔고 이력 데이터가 없어 그래프를 생성할 수 없습니다.
INFO:     116.37.80.183:3311 - "GET /api/images/balance_history?t=1762264534775 HTTP/1.1" 404 Not Found
대기 시간: 0시간 1분 33초 남음대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음INFO:     116.37.80.183:2571 - "GET /api/status HTTP/1.1" 200 OK
INFO:     116.37.80.183:11297 - "GET /api/balance HTTP/1.1" 200 OK
대기 시간: 0시간 1분 32초 남음대기 시간: 0시간 1분 31초 남음대기 시간: 0시간 1분 30초 남음대기 시간: 0시간 1분 29초 남음대기 시간: 0시간 1분 28초 남음대기 시간: 0시간 1분 27초 남음대기 시간: 0시간 1분 26초 남음대기 시간: 0시간 1분 25초 남음대기 시간: 0시간 1분 24초 남음대기 시간: 0시간 1분 23초 남음대기 시간: 0시간 1분 22초 남음대기 시간: 0시간 1분 21초 남음대기 시간: 0시간 1분 20초 남음대기 시간: 0시간 1분 19초 남음대기 시간: 0시간 1분 18초 남음INFO:     116.37.80.183:4191 - "GET /api/assets_history HTTP/1.1" 200 OK
대기 시간: 0시간 1분 18초 남음INFO:     116.37.80.183:12233 - "GET /api/results HTTP/1.1" 200 OK
대기 시간: 0시간 1분 17초 남음INFO:     116.37.80.183:1475 - "GET /api/trades HTTP/1.1" 200 OK
INFO:     116.37.80.183:1475 - "GET /api/images/today?t=1762264550896 HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1610971]
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1610972]
INFO:     Received SIGTERM, exiting.
INFO:     Waiting for child process [1610971]
INFO:     Waiting for child process [1610972]
INFO:     Stopping parent process [1598463]
nohup.out 파일 크기가 1MB를 초과했습니다. 오래된 로그를 삭제합니다...
